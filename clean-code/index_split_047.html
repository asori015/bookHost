<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>index</title>
    <meta name="generator" content="pdftohtml 0.36"/>
    <meta name="date" content="2009-10-16T23:21:09+00:00"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="calibre">
<h2 title="Chapter 6: Objects and Data Structures, **Listing 6-1**" class="calibre5" id="calibre_pb_92">Chapter 6: Objects and Data Structures</h2>
<h3 class="sigilnotintoc"><b class="calibre7">Listing 6-1</b></h3>

<p class="calibre1"><b class="calibre3">Concrete Point</b></p>
<p class="calibre1">public class Point {</p>
<p class="calibre1">public double x;</p>
<p class="calibre1">public double y;</p>
<p class="calibre1">}</p>
<p class="calibre1"><b class="calibre3">Listing 6-2</b></p>
<p class="calibre1"><b class="calibre3">Abstract Point</b></p>
<p class="calibre1">public interface Point {</p>
<p class="calibre1">double getX();</p>
<p class="calibre1">double getY();</p>
<p class="calibre1">void setCartesian(double x, double y);</p>
<p class="calibre1">double getR();</p>
<p class="calibre1">double getTheta();</p>
<p class="calibre1">void setPolar(double r, double theta);</p>
<p class="calibre1">}</p>
<p class="calibre1">The beautiful thing about Listing 6-2 is that there is no way you can tell whether the implementation is in rectangular or polar coordinates. It might be neither! And yet the interface still unmistakably represents a data structure.</p>
<p class="calibre1">But it represents more than just a data structure. The methods enforce an access policy. You can read the individual coordinates independently, but you must set the coordinates together as an atomic operation.</p>
<p class="calibre1">Listing 6-1, on the other hand, is very clearly implemented in rectangular coordinates, and it forces us to manipulate those coordinates independently. This exposes implementation. Indeed, it would expose implementation even if the variables were private and we were using single variable getters and setters.</p>
<p class="calibre1">Hiding implementation is not just a matter of putting a layer of functions between the variables. Hiding implementation is about abstractions! A class does not simply push its variables out through getters and setters. Rather it exposes abstract interfaces that allow its users to manipulate the  <i class="calibre4">essence </i> of the data, without having to know its implementation.</p>
<p class="calibre1">Consider Listing 6-3 and Listing 6-4. The first uses concrete terms to communicate the fuel level of a vehicle, whereas the second does so with the abstraction of percentage.</p>
<p class="calibre1">In the concrete case you can be pretty sure that these are just accessors of variables. In the abstract case you have no clue at all about the form of the data.</p>
<p class="calibre1"><b class="calibre3">Listing 6-3</b></p>
<p class="calibre1"><b class="calibre3">Concrete Vehicle</b></p>
<p class="calibre1">public interface Vehicle {</p>
<p class="calibre1">double getFuelTankCapacityInGallons();</p>
<p class="calibre1">double getGallonsOfGasoline();</p>
<p class="calibre1">}</p>
<p class="calibre1"><a id="p126"></a><b class="calibre3">Data/Object Anti-Symmetry</b></p>
<p class="calibre1">95</p>
<p class="calibre1"><b class="calibre3">Listing 6-4</b></p>
<p class="calibre1"><b class="calibre3">Abstract Vehicle</b></p>
<p class="calibre1">public interface Vehicle {</p>
<p class="calibre1">double getPercentFuelRemaining();</p>
<p class="calibre1">}</p>
<p class="calibre1">In both of the above cases the second option is preferable. We do not want to expose the details of our data. Rather we want to express our data in abstract terms. This is not merely accomplished by using interfaces and/or getters and setters. Serious thought needs to be put into the best way to represent the data that an object contains. The worst option is to blithely add getters and setters.</p>
<p class="calibre1"><a href="index_split_000.html#p11"><b class="calibre3">Data/Object Anti-Symmetry</b></a></p>
<p class="calibre1">These two examples show the difference between objects and data structures. Objects hide their data behind abstractions and expose functions that operate on that data. Data structure expose their data and have no meaningful functions. Go back and read that again.</p>
<p class="calibre1">Notice the complimentary nature of the two definitions. They are virtual opposites. This difference may seem trivial, but it has far-reaching implications.</p>
<p class="calibre1">Consider, for example, the procedural shape example in Listing 6-5. The Geometry class operates on the three shape classes. The shape classes are simple data structures without any behavior. All the behavior is in the Geometry class.</p>
<p class="calibre1"><b class="calibre3">Listing 6-5 </b></p>
<p class="calibre1"><b class="calibre3">Procedural Shape</b></p>
<p class="calibre1">public class Square {</p>
<p class="calibre1">public Point topLeft;</p>
<p class="calibre1">public double side;</p>
<p class="calibre1">}</p>
<p class="calibre1">public class Rectangle {</p>
<p class="calibre1">public Point topLeft;</p>
<p class="calibre1">public double height;</p>
<p class="calibre1">public double width;</p>
<p class="calibre1">}</p>
<p class="calibre1">public class Circle {</p>
<p class="calibre1">public Point center;</p>
<p class="calibre1">public double radius;</p>
<p class="calibre1">}</p>
<p class="calibre1">public class Geometry {</p>
<p class="calibre1">public final double PI = 3.141592653589793;</p>
<p class="calibre1">public double area(Object shape) throws NoSuchShapeException</p>
<p class="calibre1">{</p>
<p class="calibre1">if (shape instanceof Square) {</p>
<p class="calibre1">Square s = (Square)shape;</p>
<p class="calibre1">return s.side * s.side;</p>
<p class="calibre1">}</p>
<p class="calibre1"><a id="p127"></a>96</p>
<div class="calibre6" id="calibre_pb_93"></div>
</body>
</html>
