<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>index</title>
    <meta name="generator" content="pdftohtml 0.36"/>
    <meta name="date" content="2009-10-16T23:21:09+00:00"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="calibre">
<p class="calibre1">172      */</p>
<p class="calibre1">173     public String getDescription() {</p>
<p class="calibre1">174         return this.description;</p>
<p class="calibre1">175     }</p>
<p class="calibre1">176</p>
<p class="calibre1">177     /**</p>
<p class="calibre1">178      * Sets the description for the date.</p>
<p class="calibre1">179      *</p>
<p class="calibre1">180      * @param description  the description for this date (&lt;code&gt;null&lt;/code&gt; 181      *                     permitted).</p>
<p class="calibre1">182      */</p>
<p class="calibre1">183     public void setDescription(final String description) {</p>
<p class="calibre1">184         this.description = description;</p>
<p class="calibre1">185     }</p>
<p class="calibre1">186</p>
<p class="calibre1"><a id="p416"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">385</p>
<p class="calibre1"><b class="calibre3">Listing B-5 (continued)</b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDate.java</b></p>
<p class="calibre1">187     /**</p>
<p class="calibre1">188      * Returns the serial number for the date, where 1 January 1900 = 2</p>
<p class="calibre1">189      * (this corresponds, almost, to the numbering system used in Microsoft 190      * Excel for Windows and Lotus 1-2-3).</p>
<p class="calibre1">191      *</p>
<p class="calibre1">192      * @return The serial number of this date.</p>
<p class="calibre1">193      */</p>
<p class="calibre1">194     public int toSerial() {</p>
<p class="calibre1">195         return this.serial;</p>
<p class="calibre1">196     }</p>
<p class="calibre1">197</p>
<p class="calibre1">198     /**</p>
<p class="calibre1">199      * Returns a &lt;code&gt;java.util.Date&lt;/code&gt; equivalent to this date.</p>
<p class="calibre1">200      *</p>
<p class="calibre1">201      * @return The date.</p>
<p class="calibre1">202      */</p>
<p class="calibre1">203     public Date toDate() {</p>
<p class="calibre1">204         final Calendar calendar = Calendar.getInstance();</p>
<p class="calibre1">205         calendar.set(getYYYY(), getMonth() - 1, getDayOfMonth(), 0, 0, 0); 206         return calendar.getTime();</p>
<p class="calibre1">207     }</p>
<p class="calibre1">208</p>
<p class="calibre1">209     /**</p>
<p class="calibre1">210      * Returns the year (assume a valid range of 1900 to 9999).</p>
<p class="calibre1">211      *</p>
<p class="calibre1">212      * @return The year.</p>
<p class="calibre1">213      */</p>
<p class="calibre1">214     public int getYYYY() {</p>
<p class="calibre1">215         return this.year;</p>
<p class="calibre1">216     }</p>
<p class="calibre1">217</p>
<p class="calibre1">218     /**</p>
<p class="calibre1">219      * Returns the month (January = 1, February = 2, March = 3).</p>
<p class="calibre1">220      *</p>
<p class="calibre1">221      * @return The month of the year.</p>
<p class="calibre1">222      */</p>
<p class="calibre1">223     public int getMonth() {</p>
<p class="calibre1">224         return this.month;</p>
<p class="calibre1">225     }</p>
<p class="calibre1">226</p>
<p class="calibre1">227     /**</p>
<p class="calibre1">228      * Returns the day of the month.</p>
<p class="calibre1">229      *</p>
<p class="calibre1">230      * @return The day of the month.</p>
<p class="calibre1">231      */</p>
<p class="calibre1">232     public int getDayOfMonth() {</p>
<p class="calibre1">233         return this.day;</p>
<p class="calibre1">234     }</p>
<p class="calibre1">235</p>
<p class="calibre1">236     /**</p>
<p class="calibre1">237      * Returns a code representing the day of the week.</p>
<p class="calibre1">238      * &lt;P&gt;</p>
<p class="calibre1">239      * The codes are defined in the {@link SerialDate} class as: 240      * &lt;code&gt;SUNDAY&lt;/code&gt;, &lt;code&gt;MONDAY&lt;/code&gt;, &lt;code&gt;TUESDAY&lt;/code&gt;, 241      * &lt;code&gt;WEDNESDAY&lt;/code&gt;, &lt;code&gt;THURSDAY&lt;/code&gt;, &lt;code&gt;FRIDAY&lt;/code&gt;, and 242      * &lt;code&gt;SATURDAY&lt;/code&gt;.</p>
<p class="calibre1">243      *</p>
<p class="calibre1">244      * @return A code representing the day of the week.</p>
<p class="calibre1">245      */</p>
<p class="calibre1">246     public int getDayOfWeek() {</p>
<p class="calibre1">247         return (this.serial + 6) % 7 + 1;</p>
<p class="calibre1">248     }</p>
<p class="calibre1"><a id="p417"></a>386</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-5 (continued)</b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDate.java</b></p>
<p class="calibre1">249</p>
<p class="calibre1">250     /**</p>
<p class="calibre1">251      * Tests the equality of this date with an arbitrary object.</p>
<p class="calibre1">252      * &lt;P&gt;</p>
<p class="calibre1">253      * This method will return true ONLY if the object is an instance of the 254      * {@link SerialDate} base class, and it represents the same day as this 255      * {@link SpreadsheetDate}.</p>
<p class="calibre1">256      *</p>
<p class="calibre1">257      * @param object  the object to compare (&lt;code&gt;null&lt;/code&gt; permitted).</p>
<p class="calibre1">258      *</p>
<p class="calibre1">259      * @return A boolean.</p>
<p class="calibre1">260      */</p>
<p class="calibre1">261     public boolean equals(final Object object) {</p>
<p class="calibre1">262</p>
<p class="calibre1">263         if (object instanceof SerialDate) {</p>
<p class="calibre1">264             final SerialDate s = (SerialDate) object;</p>
<p class="calibre1">265             return (s.toSerial() == this.toSerial());</p>
<p class="calibre1">266         }</p>
<p class="calibre1">267         else {</p>
<p class="calibre1">268             return false;</p>
<p class="calibre1">269         }</p>
<p class="calibre1">270</p>
<p class="calibre1">271     }</p>
<p class="calibre1">272</p>
<p class="calibre1">273     /**</p>
<p class="calibre1">274      * Returns a hash code for this object instance.</p>
<p class="calibre1">275      *</p>
<p class="calibre1">276      * @return A hash code.</p>
<p class="calibre1">277      */</p>
<p class="calibre1">278     public int hashCode() {</p>
<p class="calibre1">279         return toSerial();</p>
<p class="calibre1">280     }</p>
<p class="calibre1">281</p>
<p class="calibre1">282     /**</p>
<p class="calibre1">283      * Returns the difference (in days) between this date and the specified 284      * 'other' date.</p>
<p class="calibre1">285      *</p>
<p class="calibre1">286      * @param other  the date being compared to.</p>
<p class="calibre1">287      *</p>
<p class="calibre1">288      * @return The difference (in days) between this date and the specified 289      *         'other' date.</p>
<p class="calibre1">290      */</p>
<p class="calibre1">291     public int compare(final SerialDate other) {</p>
<p class="calibre1">292         return this.serial - other.toSerial();</p>
<p class="calibre1">293     }</p>
<p class="calibre1">294</p>
<p class="calibre1">295     /**</p>
<p class="calibre1">296      * Implements the method required by the Comparable interface.</p>
<p class="calibre1">297      *</p>
<p class="calibre1">298      * @param other  the other object (usually another SerialDate).</p>
<p class="calibre1">299      *</p>
<p class="calibre1">300      * @return A negative integer, zero, or a positive integer as this object 301      *         is less than, equal to, or greater than the specified object.</p>
<p class="calibre1">302      */</p>
<p class="calibre1">303     public int compareTo(final Object other) {</p>
<p class="calibre1">304         return compare((SerialDate) other);</p>
<p class="calibre1">305     }</p>
<p class="calibre1">306</p>
<p class="calibre1">307     /**</p>
<p class="calibre1">308      * Returns true if this SerialDate represents the same date as the 309      * specified SerialDate.</p>
<p class="calibre1">310      *</p>
<p class="calibre1"><a id="p418"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">387</p>
<p class="calibre1"><b class="calibre3">Listing B-5 (continued)</b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDate.java</b></p>
<p class="calibre1">311      * @param other  the date being compared to.</p>
<p class="calibre1">312      *</p>
<p class="calibre1">313      * @return &lt;code&gt;true&lt;/code&gt; if this SerialDate represents the same date as 314      *         the specified SerialDate.</p>
<p class="calibre1">315      */</p>
<p class="calibre1">316     public boolean isOn(final SerialDate other) {</p>
<p class="calibre1">317         return (this.serial == other.toSerial());</p>
<p class="calibre1">318     }</p>
<p class="calibre1">319</p>
<p class="calibre1">320     /**</p>
<p class="calibre1">321      * Returns true if this SerialDate represents an earlier date compared to 322      * the specified SerialDate.</p>
<p class="calibre1">323      *</p>
<p class="calibre1">324      * @param other  the date being compared to.</p>
<p class="calibre1">325      *</p>
<p class="calibre1">326      * @return &lt;code&gt;true&lt;/code&gt; if this SerialDate represents an earlier date 327      *         compared to the specified SerialDate.</p>
<p class="calibre1">328      */</p>
<p class="calibre1">329     public boolean isBefore(final SerialDate other) {</p>
<p class="calibre1">330         return (this.serial &lt; other.toSerial());</p>
<p class="calibre1">331     }</p>
<p class="calibre1">332</p>
<p class="calibre1">333     /**</p>
<p class="calibre1">334      * Returns true if this SerialDate represents the same date as the 335      * specified SerialDate.</p>
<p class="calibre1">336      *</p>
<p class="calibre1">337      * @param other  the date being compared to.</p>
<p class="calibre1">338      *</p>
<p class="calibre1">339      * @return &lt;code&gt;true&lt;/code&gt; if this SerialDate represents the same date 340      *         as the specified SerialDate.</p>
<p class="calibre1">341      */</p>
<p class="calibre1">342     public boolean isOnOrBefore(final SerialDate other) {</p>
<p class="calibre1">343         return (this.serial &lt;= other.toSerial());</p>
<p class="calibre1">344     }</p>
<p class="calibre1">345</p>
<p class="calibre1">346     /**</p>
<p class="calibre1">347      * Returns true if this SerialDate represents the same date as the 348      * specified SerialDate.</p>
<p class="calibre1">349      *</p>
<p class="calibre1">350      * @param other  the date being compared to.</p>
<p class="calibre1">351      *</p>
<p class="calibre1">352      * @return &lt;code&gt;true&lt;/code&gt; if this SerialDate represents the same date 353      *         as the specified SerialDate.</p>
<p class="calibre1">354      */</p>
<p class="calibre1">355     public boolean isAfter(final SerialDate other) {</p>
<p class="calibre1">356         return (this.serial &gt; other.toSerial());</p>
<p class="calibre1">357     }</p>
<p class="calibre1">358</p>
<p class="calibre1">359     /**</p>
<p class="calibre1">360      * Returns true if this SerialDate represents the same date as the 361      * specified SerialDate.</p>
<p class="calibre1">362      *</p>
<p class="calibre1">363      * @param other  the date being compared to.</p>
<p class="calibre1">364      *</p>
<p class="calibre1">365      * @return &lt;code&gt;true&lt;/code&gt; if this SerialDate represents the same date as 366      *         the specified SerialDate.</p>
<p class="calibre1">367      */</p>
<p class="calibre1">368     public boolean isOnOrAfter(final SerialDate other) {</p>
<p class="calibre1">369         return (this.serial &gt;= other.toSerial());</p>
<p class="calibre1">370     }</p>
<p class="calibre1">371</p>
<p class="calibre1">372     /**</p>
<p class="calibre1">373      * Returns &lt;code&gt;true&lt;/code&gt; if this {@link SerialDate} is within the</p>
<p class="calibre1"><a id="p419"></a>388</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-5 (continued)</b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDate.java</b></p>
<p class="calibre1">374      * specified range (INCLUSIVE).  The date order of d1 and d2 is not 375      * important.</p>
<p class="calibre1">376      *</p>
<p class="calibre1">377      * @param d1  a boundary date for the range.</p>
<p class="calibre1">378      * @param d2  the other boundary date for the range.</p>
<p class="calibre1">379      *</p>
<p class="calibre1">380      * @return A boolean.</p>
<p class="calibre1">381      */</p>
<p class="calibre1">382     public boolean isInRange(final SerialDate d1, final SerialDate d2) {</p>
<p class="calibre1">383         return isInRange(d1, d2, SerialDate.INCLUDE_BOTH); 384     }</p>
<p class="calibre1">385</p>
<p class="calibre1">386     /**</p>
<p class="calibre1">387      * Returns true if this SerialDate is within the specified range (caller 388      * specifies whether or not the end-points are included).  The order of d1</p>
<p class="calibre1">389      * and d2 is not important.</p>
<p class="calibre1">390      *</p>
<p class="calibre1">391      * @param d1  one boundary date for the range.</p>
<p class="calibre1">392      * @param d2  a second boundary date for the range.</p>
<p class="calibre1">393      * @param include  a code that controls whether or not the start and end 394      *                 dates are included in the range.</p>
<p class="calibre1">395      *</p>
<p class="calibre1">396      * @return &lt;code&gt;true&lt;/code&gt; if this SerialDate is within the specified 397      *         range.</p>
<p class="calibre1">398      */</p>
<p class="calibre1">399     public boolean isInRange(final SerialDate d1, final SerialDate d2, 400                              final int include) {</p>
<p class="calibre1">401         final int s1 = d1.toSerial();</p>
<p class="calibre1">402         final int s2 = d2.toSerial();</p>
<p class="calibre1">403         final int start = Math.min(s1, s2);</p>
<p class="calibre1">404         final int end = Math.max(s1, s2);</p>
<p class="calibre1">405</p>
<p class="calibre1">406         final int s = toSerial();</p>
<p class="calibre1">407         if (include == SerialDate.INCLUDE_BOTH) {</p>
<p class="calibre1">408             return (s &gt;= start &amp;&amp; s &lt;= end); 409         }</p>
<p class="calibre1">410         else if (include == SerialDate.INCLUDE_FIRST) {</p>
<p class="calibre1">411             return (s &gt;= start &amp;&amp; s &lt; end);</p>
<p class="calibre1">412         }</p>
<p class="calibre1">413         else if (include == SerialDate.INCLUDE_SECOND) {</p>
<p class="calibre1">414             return (s &gt; start &amp;&amp; s &lt;= end);</p>
<p class="calibre1">415         }</p>
<p class="calibre1">416         else {</p>
<p class="calibre1">417             return (s &gt; start &amp;&amp; s &lt; end);</p>
<p class="calibre1">418         }</p>
<p class="calibre1">419     }</p>
<p class="calibre1">420</p>
<p class="calibre1">421     /**</p>
<p class="calibre1">422      * Calculate the serial number from the day, month and year.</p>
<p class="calibre1">423      * &lt;P&gt;</p>
<p class="calibre1">424      * 1-Jan-1900 = 2.</p>
<p class="calibre1">425      *</p>
<p class="calibre1">426      * @param d  the day.</p>
<p class="calibre1">427      * @param m  the month.</p>
<p class="calibre1">428      * @param y  the year.</p>
<p class="calibre1">429      *</p>
<p class="calibre1">430      * @return the serial number from the day, month and year.</p>
<p class="calibre1">431      */</p>
<p class="calibre1">432     private int calcSerial(final int d, final int m, final int y) {</p>
<p class="calibre1">433         final int yy = ((y - 1900) * 365) + SerialDate.leapYearCount(y - 1); 434         int mm = SerialDate.AGGREGATE_DAYS_TO_END_OF_PRECEDING_MONTH[m]; 435         if (m &gt; MonthConstants.FEBRUARY) {</p>
<p class="calibre1"><a id="p420"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">389</p>
<p class="calibre1"><b class="calibre3">Listing B-5 (continued)</b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDate.java</b></p>
<p class="calibre1">436             if (SerialDate.isLeapYear(y)) {</p>
<p class="calibre1">437                 mm = mm + 1;</p>
<p class="calibre1">438             }</p>
<p class="calibre1">439         }</p>
<p class="calibre1">440         final int dd = d;</p>
<p class="calibre1">441         return yy + mm + dd + 1;</p>
<p class="calibre1">442     }</p>
<p class="calibre1">443</p>
<p class="calibre1">444     /**</p>
<p class="calibre1">445      * Calculate the day, month and year from the serial number.</p>
<p class="calibre1">446      */</p>
<p class="calibre1">447     private void calcDayMonthYear() {</p>
<p class="calibre1">448</p>
<p class="calibre1">449         // get the year from the serial date</p>
<p class="calibre1">450         final int days = this.serial - SERIAL_LOWER_BOUND; 451         // overestimated because we ignored leap days</p>
<p class="calibre1">452         final int overestimatedYYYY = 1900 + (days / 365); 453         final int leaps = SerialDate.leapYearCount(overestimatedYYYY); 454         final int nonleapdays = days - leaps;</p>
<p class="calibre1">455         // underestimated because we overestimated years</p>
<p class="calibre1">456         int underestimatedYYYY = 1900 + (nonleapdays / 365); 457</p>
<p class="calibre1">458         if (underestimatedYYYY == overestimatedYYYY) {</p>
<p class="calibre1">459             this.year = underestimatedYYYY;</p>
<p class="calibre1">460         }</p>
<p class="calibre1">461         else {</p>
<p class="calibre1">462             int ss1 = calcSerial(1, 1, underestimatedYYYY); 463             while (ss1 &lt;= this.serial) {</p>
<p class="calibre1">464                 underestimatedYYYY = underestimatedYYYY + 1; 465                 ss1 = calcSerial(1, 1, underestimatedYYYY); 466             }</p>
<p class="calibre1">467             this.year = underestimatedYYYY - 1;</p>
<p class="calibre1">468         }</p>
<p class="calibre1">469</p>
<p class="calibre1">470         final int ss2 = calcSerial(1, 1, this.year);</p>
<p class="calibre1">471</p>
<p class="calibre1">472         int[] daysToEndOfPrecedingMonth</p>
<p class="calibre1">473             = AGGREGATE_DAYS_TO_END_OF_PRECEDING_MONTH;</p>
<p class="calibre1">474</p>
<p class="calibre1">475         if (isLeapYear(this.year)) {</p>
<p class="calibre1">476             daysToEndOfPrecedingMonth</p>
<p class="calibre1">477                 = LEAP_YEAR_AGGREGATE_DAYS_TO_END_OF_PRECEDING_MONTH; 478         }</p>
<p class="calibre1">479</p>
<p class="calibre1">480         // get the month from the serial date</p>
<p class="calibre1">481         int mm = 1;</p>
<p class="calibre1">482         int sss = ss2 + daysToEndOfPrecedingMonth[mm] - 1; 483         while (sss &lt; this.serial) {</p>
<p class="calibre1">484             mm = mm + 1;</p>
<p class="calibre1">485             sss = ss2 + daysToEndOfPrecedingMonth[mm] - 1; 486         }</p>
<p class="calibre1">487         this.month = mm - 1;</p>
<p class="calibre1">488</p>
<p class="calibre1">489         // what's left is d(+1);</p>
<p class="calibre1">490         this.day = this.serial - ss2</p>
<p class="calibre1">491                    - daysToEndOfPrecedingMonth[this.month] + 1; 492</p>
<p class="calibre1">493     }</p>
<p class="calibre1">494</p>
<p class="calibre1">495 }</p>
<p class="calibre1"><a id="p421"></a>390</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-6 </b></p>
<p class="calibre1"><b class="calibre3">RelativeDayOfWeekRule.java</b></p>
<p class="calibre1">1 /* ========================================================================</p>
<p class="calibre1">2  * JCommon : a free general purpose class library for the Java(tm) platform 3  * ========================================================================</p>
<p class="calibre1">4  *</p>
<p class="calibre1">5  * (C) Copyright 2000-2005, by Object Refinery Limited and Contributors.</p>
<p class="calibre1">6  *</p>
<p class="calibre1">7  * Project Info:  http://www.jfree.org/jcommon/index.html</p>
<p class="calibre1">8  *</p>
<p class="calibre1">9  * This library is free software; you can redistribute it and/or modify it 10  * under the terms of the GNU Lesser General Public License as published by 11  * the Free Software Foundation; either version 2.1 of the License, or 12  * (at your option) any later version.</p>
<p class="calibre1">13  *</p>
<p class="calibre1">14  * This library is distributed in the hope that it will be useful, but 15  * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY</p>
<p class="calibre1">16  * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public 17  * License for more details.</p>
<p class="calibre1">18  *</p>
<p class="calibre1">19  * You should have received a copy of the GNU Lesser General Public 20  * License along with this library; if not, write to the Free Software 21  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, 22  * USA.</p>
<p class="calibre1">23  *</p>
<p class="calibre1">24  * [Java is a trademark or registered trademark of Sun Microsystems, Inc.</p>
<p class="calibre1">25  * in the United States and other countries.]</p>
<p class="calibre1">26  *</p>
<p class="calibre1">27  * --------------------------</p>
<p class="calibre1">28  * RelativeDayOfWeekRule.java</p>
<p class="calibre1">29  * --------------------------</p>
<p class="calibre1">30  * (C) Copyright 2000-2003, by Object Refinery Limited and Contributors.</p>
<p class="calibre1">31  *</p>
<p class="calibre1">32  * Original Author:  David Gilbert (for Object Refinery Limited); 33  * Contributor(s):   -;</p>
<p class="calibre1">34  *</p>
<p class="calibre1">35  * $Id: RelativeDayOfWeekRule.java,v 1.6 2005/11/16 15:58:40 taqua Exp $</p>
<p class="calibre1">36  *</p>
<p class="calibre1">37  * Changes (from 26-Oct-2001)</p>
<p class="calibre1">38  * --------------------------</p>
<p class="calibre1">39  * 26-Oct-2001 : Changed package to com.jrefinery.date.*;</p>
<p class="calibre1">40  * 03-Oct-2002 : Fixed errors reported by Checkstyle (DG);</p>
<p class="calibre1">41  *</p>
<p class="calibre1">42  */</p>
<p class="calibre1">43</p>
<p class="calibre1">44 package org.jfree.date;</p>
<p class="calibre1">45</p>
<p class="calibre1">46 /**</p>
<p class="calibre1">47  * An annual date rule that returns a date for each year based on (a) a 48  * reference rule; (b) a day of the week; and (c) a selection parameter 49  * (SerialDate.PRECEDING, SerialDate.NEAREST, SerialDate.FOLLOWING).</p>
<p class="calibre1">50  * &lt;P&gt;</p>
<p class="calibre1">51  * For example, Good Friday can be specified as 'the Friday PRECEDING Easter 52  * Sunday'.</p>
<p class="calibre1">53  *</p>
<p class="calibre1">54  * @author David Gilbert</p>
<p class="calibre1">55  */</p>
<p class="calibre1">56 public class RelativeDayOfWeekRule extends AnnualDateRule {</p>
<p class="calibre1">57</p>
<p class="calibre1">58     /** A reference to the annual date rule on which this rule is based. */</p>
<p class="calibre1">59     private AnnualDateRule subrule;</p>
<p class="calibre1">60</p>
<p class="calibre1">61     /**</p>
<p class="calibre1">62      * The day of the week (SerialDate.MONDAY, SerialDate.TUESDAY, and so on).</p>
<p class="calibre1"><a id="p422"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">391</p>
<p class="calibre1"><b class="calibre3">Listing B-6 (continued)</b></p>
<p class="calibre1"><b class="calibre3">RelativeDayOfWeekRule.java</b></p>
<p class="calibre1">63      */</p>
<p class="calibre1">64     private int dayOfWeek;</p>
<p class="calibre1">65</p>
<p class="calibre1">66     /** Specifies which day of the week (PRECEDING, NEAREST or FOLLOWING). */</p>
<p class="calibre1">67     private int relative;</p>
<p class="calibre1">68</p>
<p class="calibre1">69     /**</p>
<p class="calibre1">70      * Default constructor - builds a rule for the Monday following 1 January.</p>
<p class="calibre1">71      */</p>
<p class="calibre1">72     public RelativeDayOfWeekRule() {</p>
<p class="calibre1">73         this(new DayAndMonthRule(), SerialDate.MONDAY, SerialDate.FOLLOWING); 74     }</p>
<p class="calibre1">75</p>
<p class="calibre1">76     /**</p>
<p class="calibre1">77      * Standard constructor - builds rule based on the supplied sub-rule.</p>
<p class="calibre1">78      *</p>
<p class="calibre1">79      * @param subrule  the rule that determines the reference date.</p>
<p class="calibre1">80      * @param dayOfWeek  the day-of-the-week relative to the reference date.</p>
<p class="calibre1">81      * @param relative  indicates *which* day-of-the-week (preceding, nearest 82      *                  or following).</p>
<p class="calibre1">83      */</p>
<p class="calibre1">84     public RelativeDayOfWeekRule(final AnnualDateRule subrule, 85             final int dayOfWeek, final int relative) {</p>
<p class="calibre1">86         this.subrule = subrule;</p>
<p class="calibre1">87         this.dayOfWeek = dayOfWeek;</p>
<p class="calibre1">88         this.relative = relative;</p>
<p class="calibre1">89     }</p>
<p class="calibre1">90</p>
<p class="calibre1">91     /**</p>
<p class="calibre1">92      * Returns the sub-rule (also called the reference rule).</p>
<p class="calibre1">93      *</p>
<p class="calibre1">94      * @return The annual date rule that determines the reference date for this 95      *         rule.</p>
<p class="calibre1">96      */</p>
<p class="calibre1">97     public AnnualDateRule getSubrule() {</p>
<p class="calibre1">98         return this.subrule;</p>
<p class="calibre1">99     }</p>
<p class="calibre1">100</p>
<p class="calibre1">101     /**</p>
<p class="calibre1">102      * Sets the sub-rule.</p>
<p class="calibre1">103      *</p>
<p class="calibre1">104      * @param subrule  the annual date rule that determines the reference date 105      *                 for this rule.</p>
<p class="calibre1">106      */</p>
<p class="calibre1">107     public void setSubrule(final AnnualDateRule subrule) {</p>
<p class="calibre1">108         this.subrule = subrule;</p>
<p class="calibre1">109     }</p>
<p class="calibre1">110</p>
<p class="calibre1">111     /**</p>
<p class="calibre1">112      * Returns the day-of-the-week for this rule.</p>
<p class="calibre1">113      *</p>
<p class="calibre1">114      * @return the day-of-the-week for this rule.</p>
<p class="calibre1">115      */</p>
<p class="calibre1">116     public int getDayOfWeek() {</p>
<p class="calibre1">117         return this.dayOfWeek;</p>
<p class="calibre1">118     }</p>
<p class="calibre1">119</p>
<p class="calibre1">120     /**</p>
<p class="calibre1">121      * Sets the day-of-the-week for this rule.</p>
<p class="calibre1">122      *</p>
<p class="calibre1">123      * @param dayOfWeek  the day-of-the-week (SerialDate.MONDAY, 124      *                   SerialDate.TUESDAY, and so on).</p>
<p class="calibre1"><a id="p423"></a>392</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-6 (continued)</b></p>
<p class="calibre1"><b class="calibre3">RelativeDayOfWeekRule.java</b></p>
<p class="calibre1">125      */</p>
<p class="calibre1">126     public void setDayOfWeek(final int dayOfWeek) {</p>
<p class="calibre1">127         this.dayOfWeek = dayOfWeek;</p>
<p class="calibre1">128     }</p>
<p class="calibre1">129</p>
<p class="calibre1">130     /**</p>
<p class="calibre1">131      * Returns the 'relative' attribute, that determines *which*</p>
<p class="calibre1">132      * day-of-the-week we are interested in (SerialDate.PRECEDING, 133      * SerialDate.NEAREST or SerialDate.FOLLOWING).</p>
<p class="calibre1">134      *</p>
<p class="calibre1">135      * @return The 'relative' attribute.</p>
<p class="calibre1">136      */</p>
<p class="calibre1">137     public int getRelative() {</p>
<p class="calibre1">138         return this.relative;</p>
<p class="calibre1">139     }</p>
<p class="calibre1">140</p>
<p class="calibre1">141     /**</p>
<p class="calibre1">142      * Sets the 'relative' attribute (SerialDate.PRECEDING, SerialDate.NEAREST, 143      * SerialDate.FOLLOWING).</p>
<p class="calibre1">144      *</p>
<p class="calibre1">145      * @param relative  determines *which* day-of-the-week is selected by this 146      *                  rule.</p>
<p class="calibre1">147      */</p>
<p class="calibre1">148     public void setRelative(final int relative) {</p>
<p class="calibre1">149         this.relative = relative;</p>
<p class="calibre1">150     }</p>
<p class="calibre1">151</p>
<p class="calibre1">152     /**</p>
<p class="calibre1">153      * Creates a clone of this rule.</p>
<p class="calibre1">154      *</p>
<p class="calibre1">155      * @return a clone of this rule.</p>
<p class="calibre1">156      *</p>
<p class="calibre1">157      * @throws CloneNotSupportedException this should never happen.</p>
<p class="calibre1">158      */</p>
<p class="calibre1">159     public Object clone() throws CloneNotSupportedException {</p>
<p class="calibre1">160         final RelativeDayOfWeekRule duplicate</p>
<p class="calibre1">161             = (RelativeDayOfWeekRule) super.clone();</p>
<p class="calibre1">162         duplicate.subrule = (AnnualDateRule) duplicate.getSubrule().clone(); 163         return duplicate;</p>
<p class="calibre1">164     }</p>
<p class="calibre1">165</p>
<p class="calibre1">166     /**</p>
<p class="calibre1">167      * Returns the date generated by this rule, for the specified year.</p>
<p class="calibre1">168      *</p>
<p class="calibre1">169      * @param year  the year (1900 &amp;lt;= year &amp;lt;= 9999).</p>
<p class="calibre1">170      *</p>
<p class="calibre1">171      * @return The date generated by the rule for the given year (possibly 172      *         &lt;code&gt;null&lt;/code&gt;).</p>
<p class="calibre1">173      */</p>
<p class="calibre1">174     public SerialDate getDate(final int year) {</p>
<p class="calibre1">175</p>
<p class="calibre1">176         // check argument...</p>
<p class="calibre1">177         if ((year &lt; SerialDate.MINIMUM_YEAR_SUPPORTED)</p>
<p class="calibre1">178             || (year &gt; SerialDate.MAXIMUM_YEAR_SUPPORTED)) {</p>
<p class="calibre1">179             throw new IllegalArgumentException(</p>
<p class="calibre1">180                 "RelativeDayOfWeekRule.getDate(): year outside valid range."); 181         }</p>
<p class="calibre1">182</p>
<p class="calibre1">183         // calculate the date...</p>
<p class="calibre1">184         SerialDate result = null;</p>
<p class="calibre1">185         final SerialDate base = this.subrule.getDate(year); 186</p>
<p class="calibre1"><a id="p424"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">393</p>
<p class="calibre1"><b class="calibre3">Listing B-6 (continued)</b></p>
<p class="calibre1"><b class="calibre3">RelativeDayOfWeekRule.java</b></p>
<p class="calibre1">187         if (base != null) {</p>
<p class="calibre1">188             switch (this.relative) {</p>
<p class="calibre1">189                 case(SerialDate.PRECEDING):</p>
<p class="calibre1">190                     result = SerialDate.getPreviousDayOfWeek(this.dayOfWeek, 191                             base);</p>
<p class="calibre1">192                     break;</p>
<p class="calibre1">193                 case(SerialDate.NEAREST):</p>
<p class="calibre1">194                     result = SerialDate.getNearestDayOfWeek(this.dayOfWeek, 195                             base);</p>
<p class="calibre1">196                     break;</p>
<p class="calibre1">197                 case(SerialDate.FOLLOWING):</p>
<p class="calibre1">198                     result = SerialDate.getFollowingDayOfWeek(this.dayOfWeek, 199                             base);</p>
<p class="calibre1">200                     break;</p>
<p class="calibre1">201                 default:</p>
<p class="calibre1">202                     break;</p>
<p class="calibre1">203             }</p>
<p class="calibre1">204         }</p>
<p class="calibre1">205         return result;</p>
<p class="calibre1">206</p>
<p class="calibre1">207     }</p>
<p class="calibre1">208</p>
<p class="calibre1">209 }</p>
<p class="calibre1"><a id="p425"></a>394</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-7 </b></p>
<p class="calibre1"><b class="calibre3">DayDate.java (Final)</b></p>
<p class="calibre1">1 /* ========================================================================</p>
<p class="calibre1">2  * JCommon : a free general purpose class library for the Java(tm) platform 3  * ========================================================================</p>
<p class="calibre1">4  *</p>
<p class="calibre1">5  * (C) Copyright 2000-2005, by Object Refinery Limited and Contributors.</p>
<p class="calibre1">...</p>
<p class="calibre1">36  */</p>
<p class="calibre1">37 package org.jfree.date;</p>
<p class="calibre1">38</p>
<p class="calibre1">39 import java.io.Serializable;</p>
<p class="calibre1">40 import java.util.*;</p>
<p class="calibre1">41</p>
<p class="calibre1">42 /**</p>
<p class="calibre1">43  * An abstract class that represents immutable dates with a precision of 44  * one day.  The implementation will map each date to an integer that 45  * represents an ordinal number of days from some fixed origin.</p>
<p class="calibre1">46  *</p>
<p class="calibre1">47  * Why not just use java.util.Date?  We will, when it makes sense.  At times, 48  * java.util.Date can be *too* precise - it represents an instant in time, 49  * accurate to 1/1000th of a second (with the date itself depending on the 50  * time-zone).  Sometimes we just want to represent a particular day (e.g. 21</p>
<p class="calibre1">51  * January 2015) without concerning ourselves about the time of day, or the 52  * time-zone, or anything else.  That's what we've defined DayDate for.</p>
<p class="calibre1">53  *</p>
<p class="calibre1">54  * Use DayDateFactory.makeDate to create an instance.</p>
<p class="calibre1">55  *</p>
<p class="calibre1">56  * @author David Gilbert</p>
<p class="calibre1">57  * @author Robert C. Martin did a lot of refactoring.</p>
<p class="calibre1">58  */</p>
<p class="calibre1">59</p>
<p class="calibre1">60 public abstract class DayDate implements Comparable, Serializable {</p>
<p class="calibre1">61   public abstract int getOrdinalDay();</p>
<p class="calibre1">62   public abstract int getYear();</p>
<p class="calibre1">63   public abstract Month getMonth();</p>
<p class="calibre1">64   public abstract int getDayOfMonth();</p>
<p class="calibre1">65</p>
<p class="calibre1">66   protected abstract Day getDayOfWeekForOrdinalZero();</p>
<p class="calibre1">67</p>
<p class="calibre1">68   public DayDate plusDays(int days) {</p>
<p class="calibre1">69     return DayDateFactory.makeDate(getOrdinalDay() + days); 70   }</p>
<p class="calibre1">71</p>
<p class="calibre1">72   public DayDate plusMonths(int months) {</p>
<p class="calibre1">73     int thisMonthAsOrdinal = getMonth().toInt() - Month.JANUARY.toInt(); 74     int thisMonthAndYearAsOrdinal = 12 * getYear() + thisMonthAsOrdinal; 75     int resultMonthAndYearAsOrdinal = thisMonthAndYearAsOrdinal + months; 76     int resultYear = resultMonthAndYearAsOrdinal / 12; 77     int resultMonthAsOrdinal = resultMonthAndYearAsOrdinal % 12 + Month.JANUARY.toInt(); 78     Month resultMonth = Month.fromInt(resultMonthAsOrdinal); 79     int resultDay = correctLastDayOfMonth(getDayOfMonth(), resultMonth, resultYear); 80     return DayDateFactory.makeDate(resultDay, resultMonth, resultYear); 81   }</p>
<p class="calibre1">82</p>
<p class="calibre1">83   public DayDate plusYears(int years) {</p>
<p class="calibre1">84     int resultYear = getYear() + years;</p>
<p class="calibre1">85     int resultDay = correctLastDayOfMonth(getDayOfMonth(), getMonth(), resultYear); 86     return DayDateFactory.makeDate(resultDay, getMonth(), resultYear); 87   }</p>
<p class="calibre1">88</p>
<p class="calibre1">89   private int correctLastDayOfMonth(int day, Month month, int year) {</p>
<p class="calibre1">90     int lastDayOfMonth = DateUtil.lastDayOfMonth(month, year); 91     if (day &gt; lastDayOfMonth)</p>
<p class="calibre1"><a id="p426"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">395</p>
<p class="calibre1"><b class="calibre3">Listing B-7 (continued)</b></p>
<p class="calibre1"><b class="calibre3">DayDate.java (Final)</b></p>
<p class="calibre1">92         day = lastDayOfMonth;</p>
<p class="calibre1">93     return day;</p>
<p class="calibre1">94   }</p>
<p class="calibre1">95</p>
<p class="calibre1">96   public DayDate getPreviousDayOfWeek(Day targetDayOfWeek) {</p>
<p class="calibre1">97     int offsetToTarget = targetDayOfWeek.toInt() - getDayOfWeek().toInt(); 98     if (offsetToTarget &gt;= 0)</p>
<p class="calibre1">99       offsetToTarget -= 7;</p>
<p class="calibre1">100     return plusDays(offsetToTarget);</p>
<p class="calibre1">101   }</p>
<p class="calibre1">102</p>
<p class="calibre1">103   public DayDate getFollowingDayOfWeek(Day targetDayOfWeek) {</p>
<p class="calibre1">104     int offsetToTarget = targetDayOfWeek.toInt() - getDayOfWeek().toInt(); 105     if (offsetToTarget &lt;= 0)</p>
<p class="calibre1">106       offsetToTarget += 7;</p>
<p class="calibre1">107     return plusDays(offsetToTarget);</p>
<p class="calibre1">108   }</p>
<p class="calibre1">109</p>
<p class="calibre1">110   public DayDate getNearestDayOfWeek(Day targetDayOfWeek) {</p>
<p class="calibre1">111     int offsetToThisWeeksTarget = targetDayOfWeek.toInt() - getDayOfWeek().toInt(); 112     int offsetToFutureTarget = (offsetToThisWeeksTarget + 7) % 7; 113     int offsetToPreviousTarget = offsetToFutureTarget - 7; 114</p>
<p class="calibre1">115     if (offsetToFutureTarget &gt; 3)</p>
<p class="calibre1">116       return plusDays(offsetToPreviousTarget);</p>
<p class="calibre1">117     else</p>
<p class="calibre1">118       return plusDays(offsetToFutureTarget);</p>
<p class="calibre1">119   }</p>
<p class="calibre1">120</p>
<p class="calibre1">121   public DayDate getEndOfMonth() {</p>
<p class="calibre1">122     Month month = getMonth();</p>
<p class="calibre1">123     int year = getYear();</p>
<p class="calibre1">124     int lastDay = DateUtil.lastDayOfMonth(month, year);</p>
<p class="calibre1">125     return DayDateFactory.makeDate(lastDay, month, year);</p>
<p class="calibre1">126   }</p>
<p class="calibre1">127</p>
<p class="calibre1">128   public Date toDate() {</p>
<p class="calibre1">129     final Calendar calendar = Calendar.getInstance();</p>
<p class="calibre1">130     int ordinalMonth = getMonth().toInt() - Month.JANUARY.toInt(); 131     calendar.set(getYear(), ordinalMonth, getDayOfMonth(), 0, 0, 0); 132     return calendar.getTime();</p>
<p class="calibre1">133   }</p>
<p class="calibre1">134</p>
<p class="calibre1">135   public String toString() {</p>
<p class="calibre1">136     return String.format("%02d-%s-%d", getDayOfMonth(), getMonth(), getYear()); 137   }</p>
<p class="calibre1">138</p>
<p class="calibre1">139   public Day getDayOfWeek() {</p>
<p class="calibre1">140     Day startingDay = getDayOfWeekForOrdinalZero();</p>
<p class="calibre1">141     int startingOffset = startingDay.toInt() - Day.SUNDAY.toInt(); 142     int ordinalOfDayOfWeek = (getOrdinalDay() + startingOffset) % 7; 143     return Day.fromInt(ordinalOfDayOfWeek + Day.SUNDAY.toInt()); 144   }</p>
<p class="calibre1">145</p>
<p class="calibre1">146   public int daysSince(DayDate date) {</p>
<p class="calibre1">147     return getOrdinalDay() - date.getOrdinalDay();</p>
<p class="calibre1">148   }</p>
<p class="calibre1">149</p>
<p class="calibre1">150   public boolean isOn(DayDate other) {</p>
<p class="calibre1">151     return getOrdinalDay() == other.getOrdinalDay();</p>
<p class="calibre1">152   }</p>
<p class="calibre1">153</p>
<p class="calibre1"><a id="p427"></a>396</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-7 (continued)</b></p>
<p class="calibre1"><b class="calibre3">DayDate.java (Final)</b></p>
<p class="calibre1">154   public boolean isBefore(DayDate other) {</p>
<p class="calibre1">155     return getOrdinalDay() &lt; other.getOrdinalDay();</p>
<p class="calibre1">156   }</p>
<p class="calibre1">157</p>
<p class="calibre1">158   public boolean isOnOrBefore(DayDate other) {</p>
<p class="calibre1">159     return getOrdinalDay() &lt;= other.getOrdinalDay();</p>
<p class="calibre1">160   }</p>
<p class="calibre1">161</p>
<p class="calibre1">162   public boolean isAfter(DayDate other) {</p>
<p class="calibre1">163     return getOrdinalDay() &gt; other.getOrdinalDay();</p>
<p class="calibre1">164   }</p>
<p class="calibre1">165</p>
<p class="calibre1">166   public boolean isOnOrAfter(DayDate other) {</p>
<p class="calibre1">167     return getOrdinalDay() &gt;= other.getOrdinalDay();</p>
<p class="calibre1">168   }</p>
<p class="calibre1">169</p>
<p class="calibre1">170   public boolean isInRange(DayDate d1, DayDate d2) {</p>
<p class="calibre1">171     return isInRange(d1, d2, DateInterval.CLOSED);</p>
<p class="calibre1">172   }</p>
<p class="calibre1">173</p>
<p class="calibre1">174   public boolean isInRange(DayDate d1, DayDate d2, DateInterval interval) {</p>
<p class="calibre1">175     int left = Math.min(d1.getOrdinalDay(), d2.getOrdinalDay()); 176     int right = Math.max(d1.getOrdinalDay(), d2.getOrdinalDay()); 177     return interval.isIn(getOrdinalDay(), left, right);</p>
<p class="calibre1">178   }</p>
<p class="calibre1">179 }</p>
<p class="calibre1"><a id="p428"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">397</p>
<p class="calibre1"><b class="calibre3">Listing B-8 </b></p>
<p class="calibre1"><b class="calibre3">Month.java (Final)</b></p>
<p class="calibre1">1 package org.jfree.date;</p>
<p class="calibre1">2</p>
<p class="calibre1">3 import java.text.DateFormatSymbols;</p>
<p class="calibre1">4</p>
<p class="calibre1">5 public enum Month {</p>
<p class="calibre1">6   JANUARY(1), FEBRUARY(2), MARCH(3),</p>
<p class="calibre1">7   APRIL(4),   MAY(5),      JUNE(6),</p>
<p class="calibre1">8   JULY(7),    AUGUST(8),   SEPTEMBER(9),</p>
<p class="calibre1">9   OCTOBER(10),NOVEMBER(11),DECEMBER(12);</p>
<p class="calibre1">10   private static DateFormatSymbols dateFormatSymbols = new DateFormatSymbols(); 11   private static final int[] LAST_DAY_OF_MONTH =</p>
<p class="calibre1">12     {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};</p>
<p class="calibre1">13</p>
<p class="calibre1">14   private int index;</p>
<p class="calibre1">15</p>
<p class="calibre1">16   Month(int index) {</p>
<p class="calibre1">17     this.index = index;</p>
<p class="calibre1">18   }</p>
<p class="calibre1">19</p>
<p class="calibre1">20   public static Month fromInt(int monthIndex) {</p>
<p class="calibre1">21     for (Month m : Month.values()) {</p>
<p class="calibre1">22       if (m.index == monthIndex)</p>
<p class="calibre1">23         return m;</p>
<p class="calibre1">24     }</p>
<p class="calibre1">25     throw new IllegalArgumentException("Invalid month index " + monthIndex); 26   }</p>
<p class="calibre1">27</p>
<p class="calibre1">28   public int lastDay() {</p>
<p class="calibre1">29     return LAST_DAY_OF_MONTH[index];</p>
<p class="calibre1">30   }</p>
<p class="calibre1">31</p>
<p class="calibre1">32   public int quarter() {</p>
<p class="calibre1">33     return 1 + (index - 1) / 3;</p>
<p class="calibre1">34   }</p>
<p class="calibre1">35</p>
<p class="calibre1">36   public String toString() {</p>
<p class="calibre1">37     return dateFormatSymbols.getMonths()[index - 1];</p>
<p class="calibre1">38   }</p>
<p class="calibre1">39</p>
<p class="calibre1">40   public String toShortString() {</p>
<p class="calibre1">41     return dateFormatSymbols.getShortMonths()[index - 1];</p>
<p class="calibre1">42   }</p>
<p class="calibre1">43</p>
<p class="calibre1">44   public static Month parse(String s) {</p>
<p class="calibre1">45     s = s.trim();</p>
<p class="calibre1">46     for (Month m : Month.values())</p>
<p class="calibre1">47       if (m.matches(s))</p>
<p class="calibre1">48         return m;</p>
<p class="calibre1">49</p>
<p class="calibre1">50     try {</p>
<p class="calibre1">51       return fromInt(Integer.parseInt(s));</p>
<p class="calibre1">52     }</p>
<p class="calibre1">53     catch (NumberFormatException e) {}</p>
<p class="calibre1">54     throw new IllegalArgumentException("Invalid month " + s); 55   }</p>
<p class="calibre1">56</p>
<p class="calibre1">57   private boolean matches(String s) {</p>
<p class="calibre1">58     return s.equalsIgnoreCase(toString()) ||</p>
<p class="calibre1">59            s.equalsIgnoreCase(toShortString());</p>
<p class="calibre1">60   }</p>
<p class="calibre1">61</p>
<p class="calibre1">62   public int toInt() {</p>
<p class="calibre1">63     return index;</p>
<p class="calibre1">64   }</p>
<p class="calibre1">65 }</p>
<p class="calibre1"><a id="p429"></a>398</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-9 </b></p>
<p class="calibre1"><b class="calibre3">Day.java (Final)</b></p>
<p class="calibre1">1 package org.jfree.date;</p>
<p class="calibre1">2</p>
<p class="calibre1">3 import java.util.Calendar;</p>
<p class="calibre1">4 import java.text.DateFormatSymbols;</p>
<p class="calibre1">5</p>
<p class="calibre1">6 public enum Day {</p>
<p class="calibre1">7   MONDAY(Calendar.MONDAY),</p>
<p class="calibre1">8   TUESDAY(Calendar.TUESDAY),</p>
<p class="calibre1">9   WEDNESDAY(Calendar.WEDNESDAY),</p>
<p class="calibre1">10   THURSDAY(Calendar.THURSDAY),</p>
<p class="calibre1">11   FRIDAY(Calendar.FRIDAY),</p>
<p class="calibre1">12   SATURDAY(Calendar.SATURDAY),</p>
<p class="calibre1">13   SUNDAY(Calendar.SUNDAY);</p>
<p class="calibre1">14</p>
<p class="calibre1">15   private final int index;</p>
<p class="calibre1">16   private static DateFormatSymbols dateSymbols = new DateFormatSymbols(); 17</p>
<p class="calibre1">18   Day(int day) {</p>
<p class="calibre1">19     index = day;</p>
<p class="calibre1">20   }</p>
<p class="calibre1">21</p>
<p class="calibre1">22   public static Day fromInt(int index) throws IllegalArgumentException {</p>
<p class="calibre1">23     for (Day d : Day.values())</p>
<p class="calibre1">24       if (d.index == index)</p>
<p class="calibre1">25         return d;</p>
<p class="calibre1">26     throw new IllegalArgumentException(</p>
<p class="calibre1">27       String.format("Illegal day index: %d.", index)); 28   }</p>
<p class="calibre1">29</p>
<p class="calibre1">30   public static Day parse(String s) throws IllegalArgumentException {</p>
<p class="calibre1">31     String[] shortWeekdayNames =</p>
<p class="calibre1">32       dateSymbols.getShortWeekdays();</p>
<p class="calibre1">33     String[] weekDayNames =</p>
<p class="calibre1">34       dateSymbols.getWeekdays();</p>
<p class="calibre1">35</p>
<p class="calibre1">36     s = s.trim();</p>
<p class="calibre1">37     for (Day day : Day.values()) {</p>
<p class="calibre1">38       if (s.equalsIgnoreCase(shortWeekdayNames[day.index]) ||</p>
<p class="calibre1">39           s.equalsIgnoreCase(weekDayNames[day.index])) {</p>
<p class="calibre1">40         return day;</p>
<p class="calibre1">41       }</p>
<p class="calibre1">42     }</p>
<p class="calibre1">43     throw new IllegalArgumentException(</p>
<p class="calibre1">44       String.format("%s is not a valid weekday string", s)); 45   }</p>
<p class="calibre1">46</p>
<p class="calibre1">47   public String toString() {</p>
<p class="calibre1">48     return dateSymbols.getWeekdays()[index];</p>
<p class="calibre1">49   }</p>
<p class="calibre1">50</p>
<p class="calibre1">51   public int toInt() {</p>
<p class="calibre1">52     return index;</p>
<p class="calibre1">53   }</p>
<p class="calibre1">54 }</p>
<p class="calibre1"><a id="p430"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">399</p>
<p class="calibre1"><b class="calibre3">Listing B-10 </b></p>
<p class="calibre1"><b class="calibre3">DateInterval.java (Final)</b></p>
<p class="calibre1">1 package org.jfree.date;</p>
<p class="calibre1">2</p>
<p class="calibre1">3 public enum DateInterval {</p>
<p class="calibre1">4   OPEN {</p>
<p class="calibre1">5     public boolean isIn(int d, int left, int right) {</p>
<p class="calibre1">6       return d &gt; left &amp;&amp; d &lt; right;</p>
<p class="calibre1">7     }</p>
<p class="calibre1">8   },</p>
<p class="calibre1">9   CLOSED_LEFT {</p>
<p class="calibre1">10     public boolean isIn(int d, int left, int right) {</p>
<p class="calibre1">11       return d &gt;= left &amp;&amp; d &lt; right;</p>
<p class="calibre1">12     }</p>
<p class="calibre1">13   },</p>
<p class="calibre1">14   CLOSED_RIGHT {</p>
<p class="calibre1">15     public boolean isIn(int d, int left, int right) {</p>
<p class="calibre1">16       return d &gt; left &amp;&amp; d &lt;= right;</p>
<p class="calibre1">17     }</p>
<p class="calibre1">18   },</p>
<p class="calibre1">19   CLOSED {</p>
<p class="calibre1">20     public boolean isIn(int d, int left, int right) {</p>
<p class="calibre1">21       return d &gt;= left &amp;&amp; d &lt;= right;</p>
<p class="calibre1">22     }</p>
<p class="calibre1">23   };</p>
<p class="calibre1">24</p>
<p class="calibre1">25   public abstract boolean isIn(int d, int left, int right); 26 }</p>
<p class="calibre1"><a id="p431"></a>400</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-11 </b></p>
<p class="calibre1"><b class="calibre3">WeekInMonth.java (Final)</b></p>
<p class="calibre1">1 package org.jfree.date;</p>
<p class="calibre1">2</p>
<p class="calibre1">3 public enum WeekInMonth {</p>
<p class="calibre1">4   FIRST(1), SECOND(2), THIRD(3), FOURTH(4), LAST(0);</p>
<p class="calibre1">5   private final int index;</p>
<p class="calibre1">6</p>
<p class="calibre1">7   WeekInMonth(int index) {</p>
<p class="calibre1">8     this.index = index;</p>
<p class="calibre1">9   }</p>
<p class="calibre1">10</p>
<p class="calibre1">11   public int toInt() {</p>
<p class="calibre1">12     return index;</p>
<p class="calibre1">13   }</p>
<p class="calibre1">14 }</p>
<p class="calibre1"><a id="p432"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">401</p>
<p class="calibre1"><b class="calibre3">Listing B-12 </b></p>
<p class="calibre1"><b class="calibre3">WeekdayRange.java (Final)</b></p>
<p class="calibre1">1 package org.jfree.date;</p>
<p class="calibre1">2</p>
<p class="calibre1">3 public enum WeekdayRange {</p>
<p class="calibre1">4   LAST, NEAREST, NEXT</p>
<p class="calibre1">5 }</p>
<p class="calibre1"><a id="p433"></a>402</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-13 </b></p>
<p class="calibre1"><b class="calibre3">DateUtil.java (Final)</b></p>
<p class="calibre1">1 package org.jfree.date;</p>
<p class="calibre1">2</p>
<p class="calibre1">3 import java.text.DateFormatSymbols;</p>
<p class="calibre1">4</p>
<p class="calibre1">5 public class DateUtil {</p>
<p class="calibre1">6   private static DateFormatSymbols dateFormatSymbols = new DateFormatSymbols(); 7</p>
<p class="calibre1">8   public static String[] getMonthNames() {</p>
<p class="calibre1">9     return dateFormatSymbols.getMonths();</p>
<p class="calibre1">10   }</p>
<p class="calibre1">11</p>
<p class="calibre1">12   public static boolean isLeapYear(int year) {</p>
<p class="calibre1">13     boolean fourth = year % 4 == 0;</p>
<p class="calibre1">14     boolean hundredth = year % 100 == 0;</p>
<p class="calibre1">15     boolean fourHundredth = year % 400 == 0;</p>
<p class="calibre1">16     return fourth &amp;&amp; (!hundredth || fourHundredth); 17   }</p>
<p class="calibre1">18</p>
<p class="calibre1">19   public static int lastDayOfMonth(Month month, int year) {</p>
<p class="calibre1">20     if (month == Month.FEBRUARY &amp;&amp; isLeapYear(year)) 21       return month.lastDay() + 1;</p>
<p class="calibre1">22     else</p>
<p class="calibre1">23       return month.lastDay();</p>
<p class="calibre1">24   }</p>
<p class="calibre1">25</p>
<p class="calibre1">26   public static int leapYearCount(int year) {</p>
<p class="calibre1">27     int leap4 = (year - 1896) / 4;</p>
<p class="calibre1">28     int leap100 = (year - 1800) / 100;</p>
<p class="calibre1">29     int leap400 = (year - 1600) / 400;</p>
<p class="calibre1">30     return leap4 - leap100 + leap400;</p>
<p class="calibre1">31   }</p>
<p class="calibre1">32 }</p>
<p class="calibre1"><a id="p434"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">403</p>
<p class="calibre1"><b class="calibre3">Listing B-14 </b></p>
<p class="calibre1"><b class="calibre3">DayDateFactory.java (Final)</b></p>
<p class="calibre1">1 package org.jfree.date;</p>
<p class="calibre1">2</p>
<p class="calibre1">3 public abstract class DayDateFactory {</p>
<p class="calibre1">4   private static DayDateFactory factory = new SpreadsheetDateFactory(); 5   public static void setInstance(DayDateFactory factory) {</p>
<p class="calibre1">6     DayDateFactory.factory = factory;</p>
<p class="calibre1">7   }</p>
<p class="calibre1">8</p>
<p class="calibre1">9   protected abstract DayDate _makeDate(int ordinal);</p>
<p class="calibre1">10   protected abstract DayDate _makeDate(int day, Month month, int year); 11   protected abstract DayDate _makeDate(int day, int month, int year); 12   protected abstract DayDate _makeDate(java.util.Date date); 13   protected abstract int _getMinimumYear(); 14   protected abstract int _getMaximumYear();</p>
<p class="calibre1">15</p>
<p class="calibre1">16   public static DayDate makeDate(int ordinal) {</p>
<p class="calibre1">17     return factory._makeDate(ordinal);</p>
<p class="calibre1">18   }</p>
<p class="calibre1">19</p>
<p class="calibre1">20   public static DayDate makeDate(int day, Month month, int year) {</p>
<p class="calibre1">21     return factory._makeDate(day, month, year);</p>
<p class="calibre1">22   }</p>
<p class="calibre1">23</p>
<p class="calibre1">24   public static DayDate makeDate(int day, int month, int year) {</p>
<p class="calibre1">25     return factory._makeDate(day, month, year);</p>
<p class="calibre1">26   }</p>
<p class="calibre1">27</p>
<p class="calibre1">28   public static DayDate makeDate(java.util.Date date) {</p>
<p class="calibre1">29     return factory._makeDate(date);</p>
<p class="calibre1">30   }</p>
<p class="calibre1">31</p>
<p class="calibre1">32   public static int getMinimumYear() {</p>
<p class="calibre1">33     return factory._getMinimumYear();</p>
<p class="calibre1">34   }</p>
<p class="calibre1">35</p>
<p class="calibre1">36   public static int getMaximumYear() {</p>
<p class="calibre1">37     return factory._getMaximumYear();</p>
<p class="calibre1">38   }</p>
<p class="calibre1">39 }</p>
<p class="calibre1"><a id="p435"></a>404</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-15 </b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDateFactory.java (Final)</b></p>
<p class="calibre1">1 package org.jfree.date;</p>
<p class="calibre1">2</p>
<p class="calibre1">3 import java.util.*;</p>
<p class="calibre1">4</p>
<p class="calibre1">5 public class SpreadsheetDateFactory extends DayDateFactory {</p>
<p class="calibre1">6   public DayDate _makeDate(int ordinal) {</p>
<p class="calibre1">7     return new SpreadsheetDate(ordinal);</p>
<p class="calibre1">8   }</p>
<p class="calibre1">9</p>
<p class="calibre1">10   public DayDate _makeDate(int day, Month month, int year) {</p>
<p class="calibre1">11     return new SpreadsheetDate(day, month, year);</p>
<p class="calibre1">12   }</p>
<p class="calibre1">13</p>
<p class="calibre1">14   public DayDate _makeDate(int day, int month, int year) {</p>
<p class="calibre1">15     return new SpreadsheetDate(day, month, year);</p>
<p class="calibre1">16   }</p>
<p class="calibre1">17</p>
<p class="calibre1">18   public DayDate _makeDate(Date date) {</p>
<p class="calibre1">19     final GregorianCalendar calendar = new GregorianCalendar(); 20     calendar.setTime(date);</p>
<p class="calibre1">21     return new SpreadsheetDate(</p>
<p class="calibre1">22       calendar.get(Calendar.DATE),</p>
<p class="calibre1">23       Month.fromInt(calendar.get(Calendar.MONTH) + 1),</p>
<p class="calibre1">24       calendar.get(Calendar.YEAR));</p>
<p class="calibre1">25   }</p>
<p class="calibre1">26</p>
<p class="calibre1">27   protected int _getMinimumYear() {</p>
<p class="calibre1">28     return SpreadsheetDate.MINIMUM_YEAR_SUPPORTED;</p>
<p class="calibre1">29   }</p>
<p class="calibre1">30</p>
<p class="calibre1">31   protected int _getMaximumYear() {</p>
<p class="calibre1">32     return SpreadsheetDate.MAXIMUM_YEAR_SUPPORTED;</p>
<p class="calibre1">33   }</p>
<p class="calibre1">34 }</p>
<p class="calibre1"><a id="p436"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">405</p>
<p class="calibre1"><b class="calibre3">Listing B-16 </b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDate.java (Final)</b></p>
<p class="calibre1">1 /* ========================================================================</p>
<p class="calibre1">2  * JCommon : a free general purpose class library for the Java(tm) platform 3  * ========================================================================</p>
<p class="calibre1">4  *</p>
<p class="calibre1">5  * (C) Copyright 2000-2005, by Object Refinery Limited and Contributors.</p>
<p class="calibre1">6  *</p>
<p class="calibre1">...</p>
<p class="calibre1">52  *</p>
<p class="calibre1">53  */</p>
<p class="calibre1">54</p>
<p class="calibre1">55 package org.jfree.date;</p>
<p class="calibre1">56</p>
<p class="calibre1">57 import static org.jfree.date.Month.FEBRUARY;</p>
<p class="calibre1">58</p>
<p class="calibre1">59 import java.util.*;</p>
<p class="calibre1">60</p>
<p class="calibre1">61 /**</p>
<p class="calibre1">62  * Represents a date using an integer, in a similar fashion to the 63  * implementation in Microsoft Excel.  The range of dates supported is 64  * 1-Jan-1900 to 31-Dec-9999.</p>
<p class="calibre1">65  * &lt;p/&gt;</p>
<p class="calibre1">66  * Be aware that there is a deliberate bug in Excel that recognises the year 67  * 1900 as a leap year when in fact it is not a leap year. You can find more 68  * information on the Microsoft website in article Q181370: 69  * &lt;p/&gt; 70  * http://support.microsoft.com/support/kb/articles/Q181/3/70.asp 71  * &lt;p/&gt;</p>
<p class="calibre1">72  * Excel uses the convention that 1-Jan-1900 = 1.  This class uses the 73  * convention 1-Jan-1900 = 2.</p>
<p class="calibre1">74  * The result is that the day number in this class will be different to the 75  * Excel figure for January and February 1900...but then Excel adds in an extra 76  * day (29-Feb-1900 which does not actually exist!) and from that point forward 77  * the day numbers will match.</p>
<p class="calibre1">78  *</p>
<p class="calibre1">79  * @author David Gilbert</p>
<p class="calibre1">80  */</p>
<p class="calibre1">81 public class SpreadsheetDate extends DayDate {</p>
<p class="calibre1">82   public static final int EARLIEST_DATE_ORDINAL = 2;     // 1/1/1900</p>
<p class="calibre1">83   public static final int LATEST_DATE_ORDINAL = 2958465; // 12/31/9999</p>
<p class="calibre1">84   public static final int MINIMUM_YEAR_SUPPORTED = 1900;</p>
<p class="calibre1">85   public static final int MAXIMUM_YEAR_SUPPORTED = 9999;</p>
<p class="calibre1">86   static final int[] AGGREGATE_DAYS_TO_END_OF_PRECEDING_MONTH =</p>
<p class="calibre1">87     {0, 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365}; 88   static final int[] LEAP_YEAR_AGGREGATE_DAYS_TO_END_OF_PRECEDING_MONTH =</p>
<p class="calibre1">89     {0, 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366}; 90</p>
<p class="calibre1">91   private int ordinalDay;</p>
<p class="calibre1">92   private int day;</p>
<p class="calibre1">93   private Month month;</p>
<p class="calibre1">94   private int year;</p>
<p class="calibre1">95</p>
<p class="calibre1">96   public SpreadsheetDate(int day, Month month, int year) {</p>
<p class="calibre1">97     if (year &lt; MINIMUM_YEAR_SUPPORTED || year &gt; MAXIMUM_YEAR_SUPPORTED) 98       throw new IllegalArgumentException(</p>
<p class="calibre1">99         "The 'year' argument must be in range " +</p>
<p class="calibre1">100         MINIMUM_YEAR_SUPPORTED + " to " + MAXIMUM_YEAR_SUPPORTED + "."); 101     if (day &lt; 1 || day &gt; DateUtil.lastDayOfMonth(month, year)) 102       throw new IllegalArgumentException("Invalid 'day' argument."); 103</p>
<p class="calibre1">104     this.year = year;</p>
<p class="calibre1">105     this.month = month;</p>
<p class="calibre1"><a id="p437"></a>406</p>
<p class="calibre1"><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1"><b class="calibre3">Listing B-16 (continued)</b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDate.java (Final)</b></p>
<p class="calibre1">106     this.day = day;</p>
<p class="calibre1">107     ordinalDay = calcOrdinal(day, month, year);</p>
<p class="calibre1">108   }</p>
<p class="calibre1">109</p>
<p class="calibre1">110   public SpreadsheetDate(int day, int month, int year) {</p>
<p class="calibre1">111     this(day, Month.fromInt(month), year);</p>
<p class="calibre1">112   }</p>
<p class="calibre1">113</p>
<p class="calibre1">114   public SpreadsheetDate(int serial) {</p>
<p class="calibre1">115     if (serial &lt; EARLIEST_DATE_ORDINAL || serial &gt; LATEST_DATE_ORDINAL) 116       throw new IllegalArgumentException(</p>
<p class="calibre1">117         "SpreadsheetDate: Serial must be in range 2 to 2958465."); 118</p>
<p class="calibre1">119     ordinalDay = serial;</p>
<p class="calibre1">120     calcDayMonthYear();</p>
<p class="calibre1">121   }</p>
<p class="calibre1">122</p>
<p class="calibre1">123   public int getOrdinalDay() {</p>
<p class="calibre1">124     return ordinalDay;</p>
<p class="calibre1">125   }</p>
<p class="calibre1">126</p>
<p class="calibre1">127   public int getYear() {</p>
<p class="calibre1">128     return year;</p>
<p class="calibre1">129   }</p>
<p class="calibre1">130</p>
<p class="calibre1">131   public Month getMonth() {</p>
<p class="calibre1">132     return month;</p>
<p class="calibre1">133   }</p>
<p class="calibre1">134</p>
<p class="calibre1">135   public int getDayOfMonth() {</p>
<p class="calibre1">136     return day;</p>
<p class="calibre1">137   }</p>
<p class="calibre1">138</p>
<p class="calibre1">139   protected Day getDayOfWeekForOrdinalZero() {return Day.SATURDAY;}</p>
<p class="calibre1">140</p>
<p class="calibre1">141   public boolean equals(Object object) {</p>
<p class="calibre1">142     if (!(object instanceof DayDate))</p>
<p class="calibre1">143       return false;</p>
<p class="calibre1">144</p>
<p class="calibre1">145     DayDate date = (DayDate) object;</p>
<p class="calibre1">146     return date.getOrdinalDay() == getOrdinalDay();</p>
<p class="calibre1">147   }</p>
<p class="calibre1">148</p>
<p class="calibre1">149   public int hashCode() {</p>
<p class="calibre1">150     return getOrdinalDay();</p>
<p class="calibre1">151   }</p>
<p class="calibre1">152</p>
<p class="calibre1">153   public int compareTo(Object other) {</p>
<p class="calibre1">154     return daysSince((DayDate) other);</p>
<p class="calibre1">155   }</p>
<p class="calibre1">156</p>
<p class="calibre1">157   private int calcOrdinal(int day, Month month, int year) {</p>
<p class="calibre1">158     int leapDaysForYear = DateUtil.leapYearCount(year - 1); 159     int daysUpToYear = (year - MINIMUM_YEAR_SUPPORTED) * 365 + leapDaysForYear; 160     int daysUpToMonth = AGGREGATE_DAYS_TO_END_OF_PRECEDING_MONTH[month.toInt()]; 161     if (DateUtil.isLeapYear(year) &amp;&amp; month.toInt() &gt; FEBRUARY.toInt()) 162       daysUpToMonth++; 163     int daysInMonth = day - 1;</p>
<p class="calibre1">164     return daysUpToYear + daysUpToMonth + daysInMonth + EARLIEST_DATE_ORDINAL; 165   }</p>
<p class="calibre1">166</p>
<p class="calibre1"><a id="p438"></a><b class="calibre3">Appendix B: org.jfree.date.SerialDate</b></p>
<p class="calibre1">407</p>
<p class="calibre1"><b class="calibre3">Listing B-16 (continued)</b></p>
<p class="calibre1"><b class="calibre3">SpreadsheetDate.java (Final)</b></p>
<p class="calibre1">167   private void calcDayMonthYear() {</p>
<p class="calibre1">168     int days = ordinalDay - EARLIEST_DATE_ORDINAL;</p>
<p class="calibre1">169     int overestimatedYear = MINIMUM_YEAR_SUPPORTED + days / 365; 170     int nonleapdays = days - DateUtil.leapYearCount(overestimatedYear); 171     int underestimatedYear = MINIMUM_YEAR_SUPPORTED + nonleapdays / 365; 172</p>
<p class="calibre1">173     year = huntForYearContaining(ordinalDay, underestimatedYear); 174     int firstOrdinalOfYear = firstOrdinalOfYear(year);</p>
<p class="calibre1">175     month = huntForMonthContaining(ordinalDay, firstOrdinalOfYear); 176     day = ordinalDay - firstOrdinalOfYear - daysBeforeThisMonth(month.toInt()); 177   }</p>
<p class="calibre1">178</p>
<p class="calibre1">179   private Month huntForMonthContaining(int anOrdinal, int firstOrdinalOfYear) {</p>
<p class="calibre1">180     int daysIntoThisYear = anOrdinal - firstOrdinalOfYear; 181     int aMonth = 1;</p>
<p class="calibre1">182     while (daysBeforeThisMonth(aMonth) &lt; daysIntoThisYear) 183       aMonth++;</p>
<p class="calibre1">184</p>
<p class="calibre1">185     return Month.fromInt(aMonth - 1);</p>
<p class="calibre1">186   }</p>
<p class="calibre1">187</p>
<p class="calibre1">188   private int daysBeforeThisMonth(int aMonth) {</p>
<p class="calibre1">189     if (DateUtil.isLeapYear(year))</p>
<p class="calibre1">190       return LEAP_YEAR_AGGREGATE_DAYS_TO_END_OF_PRECEDING_MONTH[aMonth] - 1; 191     else</p>
<p class="calibre1">192       return AGGREGATE_DAYS_TO_END_OF_PRECEDING_MONTH[aMonth] - 1; 193   }</p>
<p class="calibre1">194</p>
<p class="calibre1">195   private int huntForYearContaining(int anOrdinalDay, int startingYear) {</p>
<p class="calibre1">196     int aYear = startingYear;</p>
<p class="calibre1">197     while (firstOrdinalOfYear(aYear) &lt;= anOrdinalDay)</p>
<p class="calibre1">198       aYear++;</p>
<p class="calibre1">199</p>
<p class="calibre1">200     return aYear - 1;</p>
<p class="calibre1">201   }</p>
<p class="calibre1">202</p>
<p class="calibre1">203   private int firstOrdinalOfYear(int year) {</p>
<p class="calibre1">204     return calcOrdinal(1, Month.JANUARY, year);</p>
<p class="calibre1">205   }</p>
<p class="calibre1">206</p>
<p class="calibre1">207   public static DayDate createInstance(Date date) {</p>
<p class="calibre1">208     GregorianCalendar calendar = new GregorianCalendar();</p>
<p class="calibre1">209     calendar.setTime(date);</p>
<p class="calibre1">210     return new SpreadsheetDate(calendar.get(Calendar.DATE), 211                                Month.fromInt(calendar.get(Calendar.MONTH) + 1), 212                                calendar.get(Calendar.YEAR)); 213</p>
<p class="calibre1">214   }</p>
<p class="calibre1">215 }</p>
<p class="calibre1"><a id="p439"></a> <i class="calibre4">This page intentionally left blank </i></p>
<p class="calibre1"><a id="p440"></a><a href="index_split_000.html#p18"><b class="calibre3">Appendix C</b></a></p>
<p class="calibre1"><a href="index_split_000.html#p18"><b class="calibre3">Cross References of Heuristics</b></a></p>
<p class="calibre1">Cross references of Smells and Heuristics. All other cross references can be deleted.</p>
<p class="calibre1">C1 .......................................................................16-276, 16-279, 17-292</p>
<p class="calibre1">C2 ......................................................... 16-279, 16-285, 16-295, 17-292</p>
<p class="calibre1">C3 ......................................................... 16-283, 16-285, 16-288, 17-293</p>
<p class="calibre1">C4 ................................................................................................. 17-293</p>
<p class="calibre1">C5 ................................................................................................. 17-293</p>
<p class="calibre1">E1 ................................................................................................. 17-294</p>
<p class="calibre1">E2 ................................................................................................. 17-294</p>
<p class="calibre1">F1 .................................................................................... 14-239, 17-295</p>
<p class="calibre1">F2 ................................................................................................. 17-295</p>
<p class="calibre1">F3 ................................................................................................. 17-295</p>
<p class="calibre1">F4 ...............................14-289, 16-273, 16-285, 16-287, 16-288, 17-295</p>
<p class="calibre1">G1 .................................................................................... 16-276, 17-295</p>
<p class="calibre1">G2 .......................................................................16-273, 16-274, 17-296</p>
<p class="calibre1">G3 .................................................................................... 16-274, 17-296</p>
<p class="calibre1">G4 ................................................ 9-31, 16-279, 16-286, 16-291, 17-297</p>
<p class="calibre1">G5 ...................................9-31, 16-279, 16-286, 16-291, 16-296, 17-297</p>
<p class="calibre1">G6 ................................6-106, 16-280, 16-283, 16-284, 16-289, 16-293, 16-294, 16-296, 17-299</p>
<p class="calibre1">G7 .......................................................................16-281, 16-283, 17-300</p>
<p class="calibre1">G8 .................................................................................... 16-283, 17-301</p>
<p class="calibre1">G9 ............................................ 16-283, 16-285, 16-286, 16-287, 17-302</p>
<p class="calibre1">G10 .............................................. 5-86, 15-264, 16-276, 16-284, 17-302</p>
<p class="calibre1">G11 .......................................... 15-264, 16-284, 16-288, 16-292, 17-302</p>
<p class="calibre1">G12 ............... 16-284, 16-285, 16-286, 16-287, 16-288, 16-295, 17-303</p>
<p class="calibre1">G13 .....................................................................16-286, 16-288, 17-303</p>
<p class="calibre1">G14 .....................................................................16-288, 16-292, 17-304</p>
<p class="calibre1">409</p>
<p class="calibre1"><a id="p441"></a>410</p>
<p class="calibre1"><b class="calibre3">Appendix C: Cross References of Heuristics</b></p>
<p class="calibre1">G15 .................................................................................. 16-288, 17-305</p>
<p class="calibre1">G16 .................................................................................. 16-289, 17-306</p>
<p class="calibre1">G17 .....................................................................16-289, 17-307, 17-312</p>
<p class="calibre1">G18 ....................................................... 16-289, 16-290, 16-291, 17-308</p>
<p class="calibre1">G19 ....................................................... 16-290, 16-291, 16-292, 17-309</p>
<p class="calibre1">G20 .................................................................................. 16-290, 17-309</p>
<p class="calibre1">G21 .................................................................................. 16-291, 17-310</p>
<p class="calibre1">G22 .................................................................................. 16-294, 17-322</p>
<p class="calibre1">G23 ..........................................................??-44, 14-239, 16-295, 17-313</p>
<p class="calibre1">G24 .................................................................................. 16-296, 17-313</p>
<p class="calibre1">G25 .................................................................................. 16-296, 17-314</p>
<p class="calibre1">G26 ............................................................................................... 17-316</p>
<p class="calibre1">G27 ............................................................................................... 17-316</p>
<p class="calibre1">G28 .................................................................................. 15-262, 17-317</p>
<p class="calibre1">G29 .................................................................................. 15-262, 17-317</p>
<p class="calibre1">G30 .................................................................................. 15-263, 17-317</p>
<p class="calibre1">G31 .................................................................................. 15-264, 17-318</p>
<p class="calibre1">G32 .................................................................................. 15-265, 17-319</p>
<p class="calibre1">G33 .....................................................................15-265, 15-266, 17-320</p>
<p class="calibre1">G34 ...........................................................................1-40, 6-106, 17-321</p>
<p class="calibre1">G35 ...................................................................................... 5-90, 17-323</p>
<p class="calibre1">G36 .................................................................................... 6-103, 17-324</p>
<p class="calibre1">J1 ..................................................................................... 16-276, 17-325</p>
<p class="calibre1">J2 ........................................................................16-278, 16-285, 17-326</p>
<p class="calibre1">J3 ........................................................................16-283, 16-285, 17-327</p>
<p class="calibre1">N1 ..............................15-264, 16-277, 16-279, 16-282, 16-287, 16-288, 16-289, 16-290, 16-294, 16-296, 17-328</p>
<p class="calibre1">N2 .................................................................................... 16-277, 17-330</p>
<p class="calibre1">N3 .......................................................................16-284, 16-288, 17-331</p>
<p class="calibre1">N4 .......................................................................15-263, 16-291, 17-332</p>
<p class="calibre1">N5 ............................................................. 2-26, 14-221, 15-262, 17-332</p>
<p class="calibre1">N6 .................................................................................... 15-261, 17-333</p>
<p class="calibre1">N7 .................................................................................... 15-263, 17-333</p>
<p class="calibre1">T1 .......................................................................16-273, 16-274, 17-334</p>
<p class="calibre1">T2 .................................................................................... 16-273, 17-334</p>
<p class="calibre1">T3 .................................................................................... 16-274, 17-334</p>
<p class="calibre1">T4 ................................................................................................. 17-334</p>
<p class="calibre1">T5 .......................................................................16-274, 16-275, 17-335</p>
<p class="calibre1">T6 .................................................................................... 16-275, 17-335</p>
<p class="calibre1">T7 .................................................................................... 16-275, 17-335</p>
<p class="calibre1">T8 .................................................................................... 16-275, 17-335</p>
<p class="calibre1">T9 ................................................................................................. 17-336</p>
<p class="calibre1"><a id="p442"></a><img src="index-442_1.jpg" alt="Image 51" class="calibre2"/></p>
<p class="calibre1"><a href="index_split_000.html#p18"><b class="calibre3">Epilogue</b></a></p>
<p class="calibre1">In 2005, while attending the Agile conference in Denver, Elisabeth Hedrickson1 handed me a green wrist band similar to the kind that Lance Armstrong made so popular. This one said “Test Obsessed” on it. I gladly put it on and wore it proudly. Since learning TDD from Kent Beck in 1999, I have indeed become obsessed with test-driven development.</p>
<p class="calibre1">But then something strange happened. I found I could not take the band off. Not because it was physically stuck, but because it was  <i class="calibre4">morally </i> stuck. The band made an overt statement about my professional ethics. It was a visible indication of my committment to writing the best code I could write. Taking it off seemed like a betrayal of those ethics and of that committment.</p>
<p class="calibre1">So it is on my wrist still. When I write code, I see it there in my peripheral vision. It is a constant reminder of the promise I made to myself to write clean code.</p>
<p class="calibre1">1.</p>
<p class="calibre1"><a href="http://www.qualitytree.com/">http://www.qualitytree.com/</a></p>
<p class="calibre1">411</p>
<p class="calibre1"><a id="p443"></a> <i class="calibre4">This page intentionally left blank </i></p>
<p class="calibre1"><a id="p444"></a><a href="index_split_000.html#p18"><b class="calibre3">Index</b></a></p>
<p class="calibre1"><a href="">## detection, 237–238</a></p>
<p class="calibre1"><a href="">affinity, 84</a></p>
<p class="calibre1">++ (pre- or post-increment) operator,</p>
<p class="calibre1"><i class="calibre4">Agile Software Development: Principles, </i></p>
<p class="calibre1"><a href="">325, 326</a></p>
<p class="calibre1"><i class="calibre4">Patterns, Practices (PPP)</i><a href="">, 15</a></p>
<p class="calibre1">algorithms</p>
<p class="calibre1"><a href="">correcting, 269–270</a></p>
<p class="calibre1"><b class="calibre3">A</b></p>
<p class="calibre1"><a href="">repeating, 48</a></p>
<p class="calibre1"><a href="">aborted computation, 109</a></p>
<p class="calibre1"><a href="">understanding, 297–298</a></p>
<p class="calibre1"><a href="">abstract classes, 149, 271, 290</a></p>
<p class="calibre1">ambiguities</p>
<p class="calibre1"><a href="">ABSTRACT FACTORY pattern, 38, 156, </a></p>
<p class="calibre1"><a href="">in code, 301</a></p>
<p class="calibre1"><a href="">273, 274</a></p>
<p class="calibre1"><a href="">ignored tests as, 313</a></p>
<p class="calibre1"><a href="">abstract interfaces, 94</a></p>
<p class="calibre1"><a href="">amplification comments, 59</a></p>
<p class="calibre1">abstract methods</p>
<p class="calibre1"><a href="">analysis functions, 265</a></p>
<p class="calibre1">adding to ArgumentMarshaler<a href="">, 234–235</a></p>
<p class="calibre1"><a href="">“annotation form”, of AspectJ, 166</a></p>
<p class="calibre1"><a href="">modifying, 282</a></p>
<p class="calibre1"><a href="">Ant project, 76, 77</a></p>
<p class="calibre1"><a href="">abstract terms, 95</a></p>
<p class="calibre1">AOP (aspect-oriented programming),</p>
<p class="calibre1">abstraction</p>
<p class="calibre1"><a href="">160, 163</a></p>
<p class="calibre1"><a href="">classes depending on, 150</a></p>
<p class="calibre1">APIs.  <i class="calibre4">See also</i> public APIs</p>
<p class="calibre1"><a href="">code at wrong level of, 290–291</a></p>
<p class="calibre1">calling a null-returning method</p>
<p class="calibre1"><a href="">descending one level at a time, 37</a></p>
<p class="calibre1"><a href="">from, 110</a></p>
<p class="calibre1">functions descending only one level</p>
<p class="calibre1"><a href="">specialized for tests, 127</a></p>
<p class="calibre1"><a href="">of, 304–306</a></p>
<p class="calibre1"><a href="">wrapping third-party, 108</a></p>
<p class="calibre1"><a href="">mixing levels of, 36–37</a></p>
<p class="calibre1">applications</p>
<p class="calibre1"><a href="">names at the appropriate level of, 311</a></p>
<p class="calibre1"><a href="">decoupled from Spring, 164</a></p>
<p class="calibre1"><a href="">separating levels of, 305</a></p>
<p class="calibre1">decoupling from construction</p>
<p class="calibre1"><a href="">wrapping an implementation, 11</a></p>
<p class="calibre1"><a href="">details, 156</a></p>
<p class="calibre1">abstraction levels</p>
<p class="calibre1"><a href="">infrastructure of, 163</a></p>
<p class="calibre1"><a href="">raising, 290</a></p>
<p class="calibre1">keeping concurrency-related code</p>
<p class="calibre1"><a href="">separating, 305</a></p>
<p class="calibre1"><a href="">separate, 181</a></p>
<p class="calibre1">accessor functions, Law of Demeter</p>
<p class="calibre1"><a href="">arbitrary structure, 303–304</a></p>
<p class="calibre1"><a href="">and, 98</a></p>
<p class="calibre1">args array, converting into a list<a href="">, 231–232</a></p>
<p class="calibre1"><a href="">accessors, naming, 25</a></p>
<p class="calibre1">Args class</p>
<p class="calibre1"><a href="">Active Records, 101</a></p>
<p class="calibre1"><a href="">constructing, 194</a></p>
<p class="calibre1"><a href="">adapted server, 185</a></p>
<p class="calibre1"><a href="">implementation of, 194–200</a></p>
<p class="calibre1"><a href="">rough drafts of, 201–212, 226–231</a></p>
<p class="calibre1">413</p>
<p class="calibre1"><a id="p445"></a>414</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1">ArgsException class</p>
<p class="calibre1"><a href="">example, 71–72</a></p>
<p class="calibre1"><a href="">listing, 198–200</a></p>
<p class="calibre1"><a href="">experience of cleaning, 250</a></p>
<p class="calibre1"><a href="">merging exceptions into, 239–242</a></p>
<p class="calibre1"><a href="">not making up for, 55</a></p>
<p class="calibre1">argument(s)</p>
<p class="calibre1"><a href="">bad comments, 59–74</a></p>
<p class="calibre1"><a href="">flag, 41</a></p>
<p class="calibre1"><a href="">banner, gathering functions beneath, 67</a></p>
<p class="calibre1"><a href="">for a function, 40</a></p>
<p class="calibre1"><a href="">base classes, 290, 291</a></p>
<p class="calibre1"><a href="">in functions, 288</a></p>
<p class="calibre1"><a href="">BDUF (Big Design Up Front), 167</a></p>
<p class="calibre1"><a href="">monadic forms of, 41</a></p>
<p class="calibre1">beans, private variables manipulated,</p>
<p class="calibre1"><a href="">reducing, 43</a></p>
<p class="calibre1"><a href="">100–101</a></p>
<p class="calibre1"><a href="">argument lists, 43</a></p>
<p class="calibre1"><a href="">Beck, Kent, 3, 34, 71, 171, 252, </a></p>
<p class="calibre1"><a href="">argument objects, 43</a></p>
<p class="calibre1"><a href="">289, 296</a></p>
<p class="calibre1">argument types</p>
<p class="calibre1"><a href="">behaviors, 288–289</a></p>
<p class="calibre1"><a href="">adding, 200, 237</a></p>
<p class="calibre1"><a href="">Big Design Up Front (BDUF), 167</a></p>
<p class="calibre1"><a href="">negative impact of, 208</a></p>
<p class="calibre1"><a href="">blank lines, in code, 78–79</a></p>
<p class="calibre1">ArgumentMarshaler class</p>
<p class="calibre1"><a href="">blocks, calling functions within, 35</a></p>
<p class="calibre1"><a href="">adding the skeleton of, 213–214</a></p>
<p class="calibre1"><a href="">Booch,Grady, 8–9</a></p>
<p class="calibre1"><a href="">birth of, 212</a></p>
<p class="calibre1"><a href="">boolean, passing into a function, 41</a></p>
<p class="calibre1">ArgumentMarshaler<a href=""> interface, 197–198</a></p>
<p class="calibre1"><a href="">boolean arguments, 194, 288</a></p>
<p class="calibre1"><a href="">arrays, moving, 279</a></p>
<p class="calibre1">boolean<a href=""> map, deleting, 224</a></p>
<p class="calibre1"><a href="">art, of clean code, 6–7</a></p>
<p class="calibre1"><a href="">boolean output, of tests, 132</a></p>
<p class="calibre1"><a href="">artificial coupling, 293</a></p>
<p class="calibre1"><a href="">bound resources, 183, 184</a></p>
<p class="calibre1"><a href="">AspectJ language, 166</a></p>
<p class="calibre1">boundaries</p>
<p class="calibre1">aspect-oriented programming (AOP),</p>
<p class="calibre1"><a href="">clean, 120</a></p>
<p class="calibre1"><a href="">160, 163</a></p>
<p class="calibre1"><a href="">exploring and learning, 116</a></p>
<p class="calibre1">aspects</p>
<p class="calibre1"><a href="">incorrect behavior at, 289</a></p>
<p class="calibre1"><a href="">in AOP, 160–161</a></p>
<p class="calibre1">separating known from unknown,</p>
<p class="calibre1"><a href="">“first-class” support for, 166</a></p>
<p class="calibre1"><a href="">118–119</a></p>
<p class="calibre1"><a href="">assert statements, 130–131</a></p>
<p class="calibre1"><a href="">boundary condition errors, 269</a></p>
<p class="calibre1">assertEquals<a href="">, 42</a></p>
<p class="calibre1">boundary conditions</p>
<p class="calibre1"><a href="">assertions, using a set of, 111</a></p>
<p class="calibre1"><a href="">encapsulating, 304</a></p>
<p class="calibre1"><a href="">assignments, unaligned, 87–88</a></p>
<p class="calibre1"><a href="">testing, 314</a></p>
<p class="calibre1"><a href="">atomic operation, 323–324</a></p>
<p class="calibre1"><a href="">boundary tests, easing a migration, 118</a></p>
<p class="calibre1"><a href="">attributes, 68</a></p>
<p class="calibre1"><a href="">“Bowling Game”, 312</a></p>
<p class="calibre1">authors</p>
<p class="calibre1"><a href="">Boy Scout Rule, 14–15, 257</a></p>
<p class="calibre1"><a href="">of JUnit, 252</a></p>
<p class="calibre1"><a href="">following, 284</a></p>
<p class="calibre1"><a href="">programmers as, 13–14</a></p>
<p class="calibre1"><a href="">satisfying, 265</a></p>
<p class="calibre1"><a href="">authorship statements, 55</a></p>
<p class="calibre1"><a href="">broken windows metaphor, 8</a></p>
<p class="calibre1"><a href="">automated code instrumentation, 189–190</a></p>
<p class="calibre1"><a href="">bucket brigade, 303</a></p>
<p class="calibre1"><a href="">automated suite, of unit tests, 124</a></p>
<p class="calibre1"><a href="">BUILD-OPERATE-CHECK pattern, 127</a></p>
<p class="calibre1"><a href="">builds, 287</a></p>
<p class="calibre1">business logic, separating from error</p>
<p class="calibre1"><b class="calibre3">B</b></p>
<p class="calibre1"><a href="">handling, 109</a></p>
<p class="calibre1"><a href="">bad code, 3–4. </a> <i class="calibre4">See also</i> dirty code;</p>
<p class="calibre1"><a href="">bylines, 68</a></p>
<p class="calibre1">messy code</p>
<p class="calibre1"><a href="">byte-manipulation libraries, 161, </a></p>
<p class="calibre1"><a href="">degrading effect of, 250</a></p>
<p class="calibre1"><a href="">162–163</a></p>
<p class="calibre1"><a id="p446"></a><b class="calibre3">Index</b></p>
<p class="calibre1">415</p>
<p class="calibre1"><b class="calibre3">C</b></p>
<p class="calibre1"><a href="">clean boundaries, 120</a></p>
<p class="calibre1">clean code</p>
<p class="calibre1"><i class="calibre4">The C++ Programming Language</i><a href="">, 7</a></p>
<p class="calibre1"><a href="">art of, 6–7</a></p>
<p class="calibre1">calculations, breaking into intermediate</p>
<p class="calibre1"><a href="">described, 7–12</a></p>
<p class="calibre1"><a href="">values, 296</a></p>
<p class="calibre1"><a href="">writing, 6–7</a></p>
<p class="calibre1"><a href="">call stack, 324</a></p>
<p class="calibre1"><a href="">clean tests, 124–127</a></p>
<p class="calibre1">Callable<a href=""> interface, 326</a></p>
<p class="calibre1">cleanliness</p>
<p class="calibre1"><a href="">caller, cluttering, 104</a></p>
<p class="calibre1"><a href="">acquired sense of, 6–7</a></p>
<p class="calibre1"><a href="">calling hierarchy, 106</a></p>
<p class="calibre1"><a href="">tied to tests, 9</a></p>
<p class="calibre1"><a href="">calls, avoiding chains of, 98</a></p>
<p class="calibre1"><a href="">cleanup, of code, 14–15</a></p>
<p class="calibre1"><a href="">caring, for code, 10</a></p>
<p class="calibre1"><a href="">clever names, 26</a></p>
<p class="calibre1"><a href="">Cartesian points, 42</a></p>
<p class="calibre1"><a href="">client, using two methods, 330</a></p>
<p class="calibre1"><a href="">CAS operation, as atomic, 328</a></p>
<p class="calibre1"><a href="">client code, connecting to a server, 318</a></p>
<p class="calibre1">change(s)</p>
<p class="calibre1"><a href="">client-based locking, 185, 329, 330–332</a></p>
<p class="calibre1"><a href="">isolating from, 149–150</a></p>
<p class="calibre1">clientScheduler<a href="">, 320</a></p>
<p class="calibre1"><a href="">large number of very tiny, 213</a></p>
<p class="calibre1">client/server application, concurrency in,</p>
<p class="calibre1"><a href="">organizing for, 147–150</a></p>
<p class="calibre1"><a href="">317–321</a></p>
<p class="calibre1"><a href="">tests enabling, 124</a></p>
<p class="calibre1">Client/Server nonthreaded, code for,</p>
<p class="calibre1"><a href="">change history, deleting, 270</a></p>
<p class="calibre1"><a href="">343–346</a></p>
<p class="calibre1"><a href="">check exceptions, in Java, 106</a></p>
<p class="calibre1">client-server using threads, code changes,</p>
<p class="calibre1"><a href="">circular wait, 337, 338–339</a></p>
<p class="calibre1"><a href="">346–347</a></p>
<p class="calibre1"><a href="">clarification, comments as, 57</a></p>
<p class="calibre1">ClientTest.java<a href="">, 318, 344–346</a></p>
<p class="calibre1"><a href="">clarity, 25, 26</a></p>
<p class="calibre1"><a href="">closing braces, comments on, 67–68</a></p>
<p class="calibre1"><a href="">class names, 25</a></p>
<p class="calibre1"><a href="">Clover, 268, 269</a></p>
<p class="calibre1">classes</p>
<p class="calibre1">clutter</p>
<p class="calibre1"><a href="">cohesion of, 140–141</a></p>
<p class="calibre1"><a href="">Javadocs as, 276</a></p>
<p class="calibre1"><a href="">creating for bigger concepts, 28–29</a></p>
<p class="calibre1"><a href="">keeping free of, 293</a></p>
<p class="calibre1"><a href="">declaring instance variables, 81</a></p>
<p class="calibre1"><a href="">code, 2</a></p>
<p class="calibre1">enforcing design and business</p>
<p class="calibre1"><a href="">bad, 3–4</a></p>
<p class="calibre1"><a href="">rules, 115</a></p>
<p class="calibre1"><a href="">Beck's rules of, 10</a></p>
<p class="calibre1"><a href="">exposing internals of, 294</a></p>
<p class="calibre1"><a href="">commented-out, 68–69, 287</a></p>
<p class="calibre1"><a href="">instrumenting into ConTest, 342</a></p>
<p class="calibre1"><a href="">dead, 292</a></p>
<p class="calibre1"><a href="">keeping small, 136, 175</a></p>
<p class="calibre1"><a href="">explaining yourself in, 55</a></p>
<p class="calibre1"><a href="">minimizing the number of, 176</a></p>
<p class="calibre1"><a href="">expressing yourself in, 54</a></p>
<p class="calibre1"><a href="">naming, 25, 138</a></p>
<p class="calibre1"><a href="">formatting of, 76</a></p>
<p class="calibre1"><a href="">nonthread-safe, 328–329</a></p>
<p class="calibre1"><a href="">implicity of, 18–19</a></p>
<p class="calibre1"><a href="">as nouns of a language, 49</a></p>
<p class="calibre1"><a href="">instrumenting, 188, 342</a></p>
<p class="calibre1"><a href="">organization of, 136</a></p>
<p class="calibre1"><a href="">jiggling, 190</a></p>
<p class="calibre1">organizing to reduce risk of</p>
<p class="calibre1"><a href="">making readable, 311</a></p>
<p class="calibre1"><a href="">change, 147</a></p>
<p class="calibre1"><a href="">necessity of, 2</a></p>
<p class="calibre1">supporting advanced concurrency</p>
<p class="calibre1"><a href="">reading from top to bottom, 37</a></p>
<p class="calibre1"><a href="">design, 183</a></p>
<p class="calibre1"><a href="">simplicity of, 18, 19</a></p>
<p class="calibre1"><a href="">classification, of errors, 107</a></p>
<p class="calibre1"><a href="">technique for shrouding, 20</a></p>
<p class="calibre1"><a id="p447"></a>416</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1">code,  <i class="calibre4">continued</i></p>
<p class="calibre1"><a href="">redundant, 60–62, 272, 275, 286–287</a></p>
<p class="calibre1"><a href="">third-party, 114–115</a></p>
<p class="calibre1"><a href="">restating the obvious, 64</a></p>
<p class="calibre1"><a href="">width of lines in, 85–90</a></p>
<p class="calibre1"><a href="">separated from code, 54</a></p>
<p class="calibre1"><a href="">at wrong level of abstraction, 290–291</a></p>
<p class="calibre1">TODO<a href="">, 58–59</a></p>
<p class="calibre1">code bases, dominated by error</p>
<p class="calibre1"><a href="">too much information in, 70</a></p>
<p class="calibre1"><a href="">handling, 103</a></p>
<p class="calibre1"><a href="">venting in, 65</a></p>
<p class="calibre1">code changes, comments not always</p>
<p class="calibre1"><a href="">writing, 287</a></p>
<p class="calibre1"><a href="">following, 54</a></p>
<p class="calibre1"><a href="">“communication gap”, minimizing, 168</a></p>
<p class="calibre1"><a href="">code completion, automatic, 20</a></p>
<p class="calibre1">Compare and Swap (CAS) operation,</p>
<p class="calibre1"><a href="">code coverage analysis, 254–256</a></p>
<p class="calibre1"><a href="">327–328</a></p>
<p class="calibre1"><a href="">code instrumentation, 188–190</a></p>
<p class="calibre1">ComparisonCompactor<a href=""> module, 252–265</a></p>
<p class="calibre1"><a href="">“code sense”, 6, 7</a></p>
<p class="calibre1"><a href="">defactored, 256–261</a></p>
<p class="calibre1"><a href="">code smells, listing of, 285–314</a></p>
<p class="calibre1"><a href="">final, 263–265</a></p>
<p class="calibre1"><a href="">coding standard, 299</a></p>
<p class="calibre1"><a href="">interim, 261–263</a></p>
<p class="calibre1">cohesion</p>
<p class="calibre1"><a href="">original code, 254–256</a></p>
<p class="calibre1"><a href="">of classes, 140–141</a></p>
<p class="calibre1">compiler warnings, turning <a href="">off, 289</a></p>
<p class="calibre1"><a href="">maintaining, 141–146</a></p>
<p class="calibre1">complex code, demonstrating failures</p>
<p class="calibre1"><a href="">command line arguments, 193–194</a></p>
<p class="calibre1"><a href="">in, 341</a></p>
<p class="calibre1"><a href="">commands, separating from queries, 45–46</a></p>
<p class="calibre1"><a href="">complexity, managing, 139–140</a></p>
<p class="calibre1"><a href="">comment header standard, 55–56</a></p>
<p class="calibre1">computer science (CS) terms, using for</p>
<p class="calibre1"><a href="">comment headers, replacing, 70</a></p>
<p class="calibre1"><a href="">names, 27</a></p>
<p class="calibre1"><a href="">commented-out code, 68–69, 287</a></p>
<p class="calibre1">concepts</p>
<p class="calibre1"><a href="">commenting style, example of bad, 71–72</a></p>
<p class="calibre1"><a href="">keeping close to each other, 80</a></p>
<p class="calibre1">comments</p>
<p class="calibre1"><a href="">naming, 19</a></p>
<p class="calibre1">amplifying importance of</p>
<p class="calibre1"><a href="">one word per, 26</a></p>
<p class="calibre1"><a href="">something, 59</a></p>
<p class="calibre1"><a href="">separating at different levels, 290</a></p>
<p class="calibre1"><a href="">bad, 59–74</a></p>
<p class="calibre1"><a href="">spelling similar similarly, 20</a></p>
<p class="calibre1"><a href="">deleting, 282</a></p>
<p class="calibre1"><a href="">vertical openness between, 78–79</a></p>
<p class="calibre1"><a href="">as failures, 54</a></p>
<p class="calibre1"><a href="">conceptual affinity, of code, 84</a></p>
<p class="calibre1"><a href="">good, 55–59</a></p>
<p class="calibre1">concerns</p>
<p class="calibre1"><a href="">heuristics on, 286–287</a></p>
<p class="calibre1"><a href="">cross-cutting, 160–161</a></p>
<p class="calibre1"><a href="">HTML, 69</a></p>
<p class="calibre1"><a href="">separating, 154, 166, 178, 250</a></p>
<p class="calibre1"><a href="">inaccurate, 54</a></p>
<p class="calibre1"><a href="">concrete classes, 149</a></p>
<p class="calibre1"><a href="">informative, 56</a></p>
<p class="calibre1"><a href="">concrete details, 149</a></p>
<p class="calibre1"><a href="">journal, 63–64</a></p>
<p class="calibre1"><a href="">concrete terms, 94</a></p>
<p class="calibre1"><a href="">legal, 55–56</a></p>
<p class="calibre1">concurrency</p>
<p class="calibre1"><a href="">mandated, 63</a></p>
<p class="calibre1"><a href="">defense principles, 180–182</a></p>
<p class="calibre1"><a href="">misleading, 63</a></p>
<p class="calibre1"><a href="">issues, 190</a></p>
<p class="calibre1"><a href="">mumbling, 59–60</a></p>
<p class="calibre1"><a href="">motives for adopting, 178–179</a></p>
<p class="calibre1"><a href="">as a necessary evil, 53–59</a></p>
<p class="calibre1">myths and misconceptions about,</p>
<p class="calibre1"><a href="">noise, 64–66</a></p>
<p class="calibre1"><a href="">179–180</a></p>
<p class="calibre1"><a href="">not making up for bad code, 55</a></p>
<p class="calibre1">concurrency code</p>
<p class="calibre1"><a href="">obsolete, 286</a></p>
<p class="calibre1">compared to nonconcurrency-related</p>
<p class="calibre1"><a href="">poorly written, 287</a></p>
<p class="calibre1"><a href="">code, 181</a></p>
<p class="calibre1"><a href="">proper use of, 54</a></p>
<p class="calibre1"><a href="">focusing, 321</a></p>
<p class="calibre1"><a id="p448"></a><b class="calibre3">Index</b></p>
<p class="calibre1">417</p>
<p class="calibre1"><a href="">concurrent algorithms, 179</a></p>
<p class="calibre1"><a href="">continuous readers, 184</a></p>
<p class="calibre1">concurrent applications, partition</p>
<p class="calibre1">control variables, within loop statements,</p>
<p class="calibre1"><a href="">behavior, 183</a></p>
<p class="calibre1"><a href="">80–81</a></p>
<p class="calibre1">concurrent code</p>
<p class="calibre1"><a href="">convenient idioms, 155</a></p>
<p class="calibre1"><a href="">breaking, 329–333</a></p>
<p class="calibre1">convention(s)</p>
<p class="calibre1"><a href="">defending from problems of, 180</a></p>
<p class="calibre1"><a href="">following standard, 299–300</a></p>
<p class="calibre1"><a href="">flaws hiding in, 188</a></p>
<p class="calibre1"><a href="">over configuration, 164</a></p>
<p class="calibre1"><a href="">concurrent programming, 180</a></p>
<p class="calibre1"><a href="">structure over, 301</a></p>
<p class="calibre1"><i class="calibre4">Concurrent Programming in Java: Design </i></p>
<p class="calibre1"><a href="">using consistent, 259</a></p>
<p class="calibre1"><i class="calibre4">Principles and Patterns</i><a href="">, 182, 342</a></p>
<p class="calibre1"><a href="">convoluted code, 175</a></p>
<p class="calibre1"><a href="">concurrent programs, 178</a></p>
<p class="calibre1"><a href="">copyright statements, 55</a></p>
<p class="calibre1"><a href="">concurrent update problems, 341</a></p>
<p class="calibre1">cosmic-rays.  <i class="calibre4">See</i> one-offs</p>
<p class="calibre1">ConcurrentHashMap<a href=""> implementation, 183</a></p>
<p class="calibre1">CountDownLatch<a href=""> class, 183</a></p>
<p class="calibre1">conditionals</p>
<p class="calibre1">coupling.  <i class="calibre4">See also</i> decoupling; temporal</p>
<p class="calibre1"><a href="">avoiding negative, 302</a></p>
<p class="calibre1">coupling; tight coupling</p>
<p class="calibre1"><a href="">encapsulating, 257–258, 301</a></p>
<p class="calibre1"><a href="">artificial, 293</a></p>
<p class="calibre1"><a href="">configurable data, 306</a></p>
<p class="calibre1"><a href="">hidden temporal, 302–303</a></p>
<p class="calibre1"><a href="">configuration constants, 306</a></p>
<p class="calibre1"><a href="">lack of, 150</a></p>
<p class="calibre1"><a href="">consequences, warning of, 58</a></p>
<p class="calibre1"><a href="">coverage patterns, testing, 314</a></p>
<p class="calibre1">consistency</p>
<p class="calibre1"><a href="">coverage tools, 313</a></p>
<p class="calibre1"><a href="">in code, 292</a></p>
<p class="calibre1"><a href="">“crisp abstraction”, 8–9</a></p>
<p class="calibre1"><a href="">of enums, 278</a></p>
<p class="calibre1"><a href="">cross-cutting concerns, 160</a></p>
<p class="calibre1"><a href="">in names, 40</a></p>
<p class="calibre1"><a href="">Cunningham, Ward, 11–12</a></p>
<p class="calibre1"><a href="">consistent conventions, 259</a></p>
<p class="calibre1"><a href="">cuteness, in code, 26</a></p>
<p class="calibre1">constants</p>
<p class="calibre1">versus enums<a href="">, 308–309</a></p>
<p class="calibre1"><b class="calibre3">D</b></p>
<p class="calibre1"><a href="">hiding, 308</a></p>
<p class="calibre1"><a href="">inheriting, 271, 307–308</a></p>
<p class="calibre1">dangling false<a href=""> argument, 294</a></p>
<p class="calibre1"><a href="">keeping at the appropriate level, 83</a></p>
<p class="calibre1">data</p>
<p class="calibre1"><a href="">leaving as raw numbers, 300</a></p>
<p class="calibre1"><a href="">abstraction, 93–95</a></p>
<p class="calibre1"><a href="">not inheriting, 307–308</a></p>
<p class="calibre1"><a href="">copies of, 181–182</a></p>
<p class="calibre1"><a href="">passing as symbols, 276</a></p>
<p class="calibre1"><a href="">encapsulation, 181</a></p>
<p class="calibre1">turning <a href="">into enums, 275–276</a></p>
<p class="calibre1"><a href="">limiting the scope of, 181</a></p>
<p class="calibre1">construction</p>
<p class="calibre1"><a href="">sets processed in parallel, 179</a></p>
<p class="calibre1">moving all to main<a href="">, 155, 156</a></p>
<p class="calibre1"><a href="">types, 97, 101</a></p>
<p class="calibre1"><a href="">separating with factory, 156</a></p>
<p class="calibre1">data structures.  <i class="calibre4">See also</i> structure(s)</p>
<p class="calibre1"><a href="">of a system, 154</a></p>
<p class="calibre1"><a href="">compared to objects, 95, 97</a></p>
<p class="calibre1"><a href="">constructor arguments, 157</a></p>
<p class="calibre1"><a href="">defined, 95</a></p>
<p class="calibre1"><a href="">constructors, overloading, 25</a></p>
<p class="calibre1"><a href="">interfaces representing, 94</a></p>
<p class="calibre1"><a href="">consumer threads, 184</a></p>
<p class="calibre1"><a href="">treating Active Records as, 101</a></p>
<p class="calibre1"><a href="">ConTest tool, 190, 342</a></p>
<p class="calibre1">data transfer-objects (DTOs),</p>
<p class="calibre1">context</p>
<p class="calibre1"><a href="">100–101, 160</a></p>
<p class="calibre1"><a href="">adding meaningful, 27–29</a></p>
<p class="calibre1"><a href="">database normal forms, 48</a></p>
<p class="calibre1"><a href="">not adding gratuitous, 29–30</a></p>
<p class="calibre1">DateInterval<a href=""> enum, 282–283</a></p>
<p class="calibre1"><a href="">providing with exceptions, 107</a></p>
<p class="calibre1">DAY<a href=""> enumeration, 277</a></p>
<p class="calibre1"><a id="p449"></a>418</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1">DayDate class, running SerialDate</p>
<p class="calibre1">description</p>
<p class="calibre1"><a href="">as, 271</a></p>
<p class="calibre1"><a href="">of a class, 138</a></p>
<p class="calibre1">DayDateFactory<a href="">, 273–274</a></p>
<p class="calibre1">overloading the structure of code</p>
<p class="calibre1"><a href="">dead code, 288, 292</a></p>
<p class="calibre1"><a href="">into, 310</a></p>
<p class="calibre1"><a href="">dead functions, 288</a></p>
<p class="calibre1">descriptive names</p>
<p class="calibre1"><a href="">deadlock, 183, 335–339</a></p>
<p class="calibre1"><a href="">choosing, 309–310</a></p>
<p class="calibre1">deadly embrace.  <i class="calibre4">See</i> circular wait</p>
<p class="calibre1"><a href="">using, 39–40</a></p>
<p class="calibre1"><a href="">debugging, finding deadlocks, 336</a></p>
<p class="calibre1">design(s)</p>
<p class="calibre1"><a href="">decision making, optimizing, 167–168</a></p>
<p class="calibre1"><a href="">of concurrent algorithms, 179</a></p>
<p class="calibre1"><a href="">decisions, postponing, 168</a></p>
<p class="calibre1"><a href="">minimally coupled, 167</a></p>
<p class="calibre1"><a href="">declarations, unaligned, 87–88</a></p>
<p class="calibre1"><a href="">principles of, 15</a></p>
<p class="calibre1"><a href="">DECORATOR objects, 164</a></p>
<p class="calibre1"><a href="">design patterns, 290</a></p>
<p class="calibre1"><a href="">DECORATOR pattern, 274</a></p>
<p class="calibre1"><a href="">details, paying attention to, 8</a></p>
<p class="calibre1"><a href="">decoupled architecture, 167</a></p>
<p class="calibre1"><a href="">DI (Dependency Injection), 157</a></p>
<p class="calibre1">decoupling, from construction</p>
<p class="calibre1"><a href="">Dijkstra, Edsger, 48</a></p>
<p class="calibre1"><a href="">details, 156</a></p>
<p class="calibre1">dining philosophers execution model,</p>
<p class="calibre1">decoupling strategy, concurrency</p>
<p class="calibre1"><a href="">184–185</a></p>
<p class="calibre1"><a href="">as, 178</a></p>
<p class="calibre1">DIP (Dependency Inversion Principle),</p>
<p class="calibre1"><a href="">default constructor, deleting, 276</a></p>
<p class="calibre1"><a href="">15, 150</a></p>
<p class="calibre1"><a href="">degradation, preventing, 14</a></p>
<p class="calibre1">dirty code.  <i class="calibre4">See also</i> bad code;</p>
<p class="calibre1">deletions, as the majority of</p>
<p class="calibre1">messy code</p>
<p class="calibre1"><a href="">changes, 250</a></p>
<p class="calibre1"><a href="">dirty code, cleaning, 200</a></p>
<p class="calibre1"><a href="">density, vertical in code, 79–80</a></p>
<p class="calibre1"><a href="">dirty tests, 123</a></p>
<p class="calibre1">dependencies</p>
<p class="calibre1"><a href="">disinformation, avoiding, 19–20</a></p>
<p class="calibre1"><a href="">finding and breaking, 250</a></p>
<p class="calibre1"><a href="">distance, vertical in code, 80–84</a></p>
<p class="calibre1"><a href="">injecting, 157</a></p>
<p class="calibre1"><a href="">distinctions, making meaningful, 20–21</a></p>
<p class="calibre1"><a href="">logical, 282</a></p>
<p class="calibre1">domain-specific languages (DSLs),</p>
<p class="calibre1"><a href="">making logical physical, 298–299</a></p>
<p class="calibre1"><a href="">168–169</a></p>
<p class="calibre1"><a href="">between methods, 329–333</a></p>
<p class="calibre1"><a href="">domain-specific testing language, 127</a></p>
<p class="calibre1">between synchronized</p>
<p class="calibre1">DoubleArgumentMarshaler <a href="">class, 238</a></p>
<p class="calibre1"><a href="">methods, 185</a></p>
<p class="calibre1">DRY principle (Don't Repeat Yourself),</p>
<p class="calibre1"><a href="">Dependency Injection (DI), 157</a></p>
<p class="calibre1"><a href="">181, 289</a></p>
<p class="calibre1">Dependency Inversion Principle (DIP),</p>
<p class="calibre1"><a href="">DTOs (data transfer objects), 100–101, 160</a></p>
<p class="calibre1"><a href="">15, 150</a></p>
<p class="calibre1"><a href="">dummy scopes, 90</a></p>
<p class="calibre1"><a href="">dependency magnet, 47</a></p>
<p class="calibre1">duplicate if<a href=""> statements, 276</a></p>
<p class="calibre1"><a href="">dependent functions, formatting, 82–83</a></p>
<p class="calibre1">duplication</p>
<p class="calibre1">derivatives</p>
<p class="calibre1"><a href="">of code, 48</a></p>
<p class="calibre1"><a href="">base classes depending on, 291</a></p>
<p class="calibre1"><a href="">in code, 289–290</a></p>
<p class="calibre1"><a href="">base classes knowing about, 273</a></p>
<p class="calibre1"><a href="">eliminating, 173–175</a></p>
<p class="calibre1"><a href="">of the exception class, 48</a></p>
<p class="calibre1"><a href="">focusing on, 10</a></p>
<p class="calibre1">moving set<a href=""> functions into, 232, </a></p>
<p class="calibre1"><a href="">forms of, 173, 290</a></p>
<p class="calibre1"><a href="">233–235</a></p>
<p class="calibre1"><a href="">reduction of, 48</a></p>
<p class="calibre1"><a href="">pushing functionality into, 217</a></p>
<p class="calibre1"><a href="">strategies for eliminating, 48</a></p>
<p class="calibre1"><a id="p450"></a><b class="calibre3">Index</b></p>
<p class="calibre1">419</p>
<p class="calibre1"><a href="">dyadic argument, 40</a></p>
<p class="calibre1"><a href="">error messages, 107, 250</a></p>
<p class="calibre1"><a href="">dyadic functions, 42</a></p>
<p class="calibre1"><a href="">error processing, testing, 238–239</a></p>
<p class="calibre1"><a href="">dynamic proxies, 161</a></p>
<p class="calibre1">errorMessage<a href=""> method, 250</a></p>
<p class="calibre1">errors.  <i class="calibre4">See also </i> boundary condition errors;</p>
<p class="calibre1">spelling errors; string comparison</p>
<p class="calibre1"><b class="calibre3">E</b></p>
<p class="calibre1">errors</p>
<p class="calibre1">e<a href="">, as a variable name, 22</a></p>
<p class="calibre1"><a href="">classifying, 107</a></p>
<p class="calibre1"><a href="">Eclipse, 26</a></p>
<p class="calibre1"><a href="">Evans, Eric, 311</a></p>
<p class="calibre1"><a href="">edit sessions, playing back, 13–14</a></p>
<p class="calibre1"><a href="">events, 41</a></p>
<p class="calibre1"><a href="">efficiency, of code, 7</a></p>
<p class="calibre1"><a href="">exception classification, 107</a></p>
<p class="calibre1">EJB architecture, early as over-engineered,</p>
<p class="calibre1"><a href="">exception clauses, 107–108</a></p>
<p class="calibre1"><a href="">167</a></p>
<p class="calibre1"><a href="">exception management code, 223</a></p>
<p class="calibre1"><a href="">EJB standard, complete overhaul of, 164</a></p>
<p class="calibre1">exceptions</p>
<p class="calibre1"><a href="">EJB2 beans, 160</a></p>
<p class="calibre1"><a href="">instead of return codes, 103–105</a></p>
<p class="calibre1"><a href="">EJB3, Bank object rewritten in, 165–166</a></p>
<p class="calibre1"><a href="">narrowing the type of, 105–106</a></p>
<p class="calibre1"><a href="">“elegant” code, 7</a></p>
<p class="calibre1"><a href="">preferring to error codes, 46</a></p>
<p class="calibre1"><a href="">emergent design, 171–176</a></p>
<p class="calibre1"><a href="">providing context with, 107</a></p>
<p class="calibre1"><a href="">encapsulation, 136</a></p>
<p class="calibre1">separating from Args<a href="">, 242–250</a></p>
<p class="calibre1"><a href="">of boundary conditions, 304</a></p>
<p class="calibre1"><a href="">throwing, 104–105, 194</a></p>
<p class="calibre1"><a href="">breaking, 106–107</a></p>
<p class="calibre1"><a href="">unchecked, 106–107</a></p>
<p class="calibre1"><a href="">of conditionals, 301</a></p>
<p class="calibre1"><a href="">execution, possible paths of, 321–326</a></p>
<p class="calibre1"><a href="">encodings, avoiding, 23–24, 312–313</a></p>
<p class="calibre1"><a href="">execution models, 183–185</a></p>
<p class="calibre1"><a href="">entity bean, 158–160</a></p>
<p class="calibre1">Executor <a href="">framework, 326–327</a></p>
<p class="calibre1">enum(s)</p>
<p class="calibre1">ExecutorClientScheduler.java<a href="">, 321</a></p>
<p class="calibre1">changing MonthConstants<a href=""> to, 272</a></p>
<p class="calibre1"><a href="">explanation, of intent, 56–57</a></p>
<p class="calibre1"><a href="">using, 308–309</a></p>
<p class="calibre1"><a href="">explanatory variables, 296–297</a></p>
<p class="calibre1"><a href="">enumeration, moving, 277</a></p>
<p class="calibre1"><a href="">explicitness, of code, 19</a></p>
<p class="calibre1"><a href="">environment, heuristics on, 287</a></p>
<p class="calibre1"><a href="">expressive code, 295</a></p>
<p class="calibre1"><a href="">environment control system, 128–129</a></p>
<p class="calibre1">expressiveness</p>
<p class="calibre1"><a href="">envying, the scope of a class, 293</a></p>
<p class="calibre1"><a href="">in code, 10–11</a></p>
<p class="calibre1"><a href="">error check, hiding a side effect, 258</a></p>
<p class="calibre1"><a href="">ensuring, 175–176</a></p>
<p class="calibre1">Error <a href="">class, 47–48</a></p>
<p class="calibre1"><a href="">Extract Method refactoring, 11</a></p>
<p class="calibre1"><a href="">error code constants, 198–200</a></p>
<p class="calibre1"><i class="calibre4">Extreme Programming Adventures </i></p>
<p class="calibre1">error codes</p>
<p class="calibre1"><i class="calibre4">in C#</i><a href="">, 10</a></p>
<p class="calibre1"><a href="">implying a class or enum, 47–48</a></p>
<p class="calibre1"><i class="calibre4">Extreme Programming Installed</i><a href="">, 10</a></p>
<p class="calibre1"><a href="">preferring exceptions to, 46</a></p>
<p class="calibre1"><a href="">“eye-full”, code fitting into, 79–80</a></p>
<p class="calibre1"><a href="">returning, 103–104</a></p>
<p class="calibre1"><a href="">reusing old, 48</a></p>
<p class="calibre1"><b class="calibre3">F</b></p>
<p class="calibre1">separating from the Args module,</p>
<p class="calibre1"><a href="">242–250</a></p>
<p class="calibre1"><a href="">factories, 155–156</a></p>
<p class="calibre1"><a href="">error detection, pushing to the edges, 109</a></p>
<p class="calibre1"><a href="">factory classes, 273–275</a></p>
<p class="calibre1"><a href="">error flags, 103–104</a></p>
<p class="calibre1">failure</p>
<p class="calibre1"><a href="">error handling, 8, 47–48</a></p>
<p class="calibre1"><a href="">to express ourselves in code, 54</a></p>
<p class="calibre1"><a id="p451"></a>420</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1">failure,  <i class="calibre4">continued</i></p>
<p class="calibre1">descending one level of abstraction,</p>
<p class="calibre1"><a href="">patterns of, 314</a></p>
<p class="calibre1"><a href="">304–306</a></p>
<p class="calibre1"><a href="">tolerating with no harm, 330</a></p>
<p class="calibre1"><a href="">doing one thing, 35–36, 302</a></p>
<p class="calibre1">false<a href=""> argument, 294</a></p>
<p class="calibre1"><a href="">dyadic, 42</a></p>
<p class="calibre1"><a href="">fast tests, 132</a></p>
<p class="calibre1">eliminating extraneous if statements,</p>
<p class="calibre1">fast-running threads, starving longer</p>
<p class="calibre1"><a href="">262</a></p>
<p class="calibre1"><a href="">running, 183</a></p>
<p class="calibre1">establishing the temporal nature</p>
<p class="calibre1"><a href="">fear, of renaming, 30</a></p>
<p class="calibre1"><a href="">of, 260</a></p>
<p class="calibre1"><a href="">Feathers, Michael, 10</a></p>
<p class="calibre1"><a href="">formatting dependent, 82–83</a></p>
<p class="calibre1">feature envy</p>
<p class="calibre1"><a href="">gathering beneath a banner, 67</a></p>
<p class="calibre1"><a href="">eliminating, 293–294</a></p>
<p class="calibre1"><a href="">heuristics on, 288</a></p>
<p class="calibre1"><a href="">smelling of, 278</a></p>
<p class="calibre1"><a href="">intention-revealing, 19</a></p>
<p class="calibre1"><a href="">file size, in Java, 76</a></p>
<p class="calibre1"><a href="">keeping small, 175</a></p>
<p class="calibre1">final <a href="">keywords, 276</a></p>
<p class="calibre1"><a href="">length of, 34–35</a></p>
<p class="calibre1"><a href="">F.I.R.S.T. acronym, 132–133</a></p>
<p class="calibre1"><a href="">moving, 279</a></p>
<p class="calibre1"><a href="">First Law, of TDD, 122</a></p>
<p class="calibre1"><a href="">naming, 39, 297</a></p>
<p class="calibre1">FitNesse project</p>
<p class="calibre1"><a href="">number of arguments in, 288</a></p>
<p class="calibre1"><a href="">coding style for, 90</a></p>
<p class="calibre1"><a href="">one level of abstraction per, 36–37</a></p>
<p class="calibre1"><a href="">file sizes, 76, 77</a></p>
<p class="calibre1"><a href="">in place of comments, 67</a></p>
<p class="calibre1"><a href="">function in, 32–33</a></p>
<p class="calibre1"><a href="">renaming for clarity, 258</a></p>
<p class="calibre1"><a href="">invoking all tests, 224</a></p>
<p class="calibre1"><a href="">rewriting for clarity, 258–259</a></p>
<p class="calibre1"><a href="">flag arguments, 41, 288</a></p>
<p class="calibre1"><a href="">sections within, 36</a></p>
<p class="calibre1"><a href="">focussed code, 8</a></p>
<p class="calibre1"><a href="">small as better, 34</a></p>
<p class="calibre1">foreign code.  <i class="calibre4">See</i> third-party code</p>
<p class="calibre1"><a href="">structured programming with, 49</a></p>
<p class="calibre1">formatting</p>
<p class="calibre1"><a href="">understanding, 297–298</a></p>
<p class="calibre1"><a href="">horizontal, 85–90</a></p>
<p class="calibre1"><a href="">as verbs of a language, 49</a></p>
<p class="calibre1"><a href="">purpose of, 76</a></p>
<p class="calibre1"><a href="">writing, 49</a></p>
<p class="calibre1"><a href="">Uncle Bob’s rules, 90–92</a></p>
<p class="calibre1"><a href="">futures, 326</a></p>
<p class="calibre1"><a href="">vertical, 76–85</a></p>
<p class="calibre1">formatting style, for a team of</p>
<p class="calibre1"><a href="">developers, 90</a></p>
<p class="calibre1"><b class="calibre3">G</b></p>
<p class="calibre1"><a href="">Fortran, forcing encodings, 23</a></p>
<p class="calibre1"><a href="">Gamma, Eric, 252</a></p>
<p class="calibre1"><a href="">Fowler, Martin, 285, 293</a></p>
<p class="calibre1"><a href="">general heuristics, 288–307</a></p>
<p class="calibre1"><a href="">frame, 324</a></p>
<p class="calibre1"><a href="">generated byte-code, 180</a></p>
<p class="calibre1"><a href="">function arguments, 40–45</a></p>
<p class="calibre1"><a href="">generics, improving code readability, 115</a></p>
<p class="calibre1"><a href="">function call dependencies, 84–85</a></p>
<p class="calibre1">get <a href="">functions, 218</a></p>
<p class="calibre1"><a href="">function headers, 70</a></p>
<p class="calibre1">getBoolean<a href=""> function, 224</a></p>
<p class="calibre1"><a href="">function signature, 45</a></p>
<p class="calibre1">GETFIELD<a href=""> instruction, 325, 326</a></p>
<p class="calibre1"><a href="">functionality, placement of, 295–296</a></p>
<p class="calibre1">getNextId <a href="">method, 326</a></p>
<p class="calibre1">functions</p>
<p class="calibre1">getState <a href="">function, 129</a></p>
<p class="calibre1"><a href="">breaking into smaller, 141–146</a></p>
<p class="calibre1"><a href="">Gilbert, David, 267, 268</a></p>
<p class="calibre1"><a href="">calling within a block, 35</a></p>
<p class="calibre1"><a href="">given-when-then convention, 130</a></p>
<p class="calibre1"><a href="">dead, 288</a></p>
<p class="calibre1">glitches.  <i class="calibre4">See</i> one-offs</p>
<p class="calibre1"><a href="">defining private, 292</a></p>
<p class="calibre1"><a id="p452"></a><b class="calibre3">Index</b></p>
<p class="calibre1">421</p>
<p class="calibre1"><a href="">global setup strategy, 155</a></p>
<p class="calibre1"><a href="">exposing, 94</a></p>
<p class="calibre1"><a href="">“God class”, 136–137</a></p>
<p class="calibre1"><a href="">hiding, 94</a></p>
<p class="calibre1"><a href="">good comments, 55–59</a></p>
<p class="calibre1"><a href="">wrapping an abstraction, 11</a></p>
<p class="calibre1">goto <a href="">statements, avoiding, 48, 49</a></p>
<p class="calibre1"><i class="calibre4">Implementation Patterns</i><a href="">, 3, 296</a></p>
<p class="calibre1"><a href="">grand redesign, 5</a></p>
<p class="calibre1"><a href="">implicity, of code, 18</a></p>
<p class="calibre1"><a href="">gratuitous context, 29–30</a></p>
<p class="calibre1">import lists</p>
<p class="calibre1"><a href="">avoiding long, 307</a></p>
<p class="calibre1">shortening in SerialDate<a href="">, 270</a></p>
<p class="calibre1"><b class="calibre3">H</b></p>
<p class="calibre1"><a href="">imports, as hard dependencies, 307</a></p>
<p class="calibre1"><a href="">imprecision, in code, 301</a></p>
<p class="calibre1"><a href="">hand-coded instrumentation, 189</a></p>
<p class="calibre1"><a href="">inaccurate comments, 54</a></p>
<p class="calibre1">HashTable<a href="">, 328–329</a></p>
<p class="calibre1">inappropriate information, in</p>
<p class="calibre1">headers.  <i class="calibre4">See</i> comment headers; function</p>
<p class="calibre1"><a href="">comments, 286</a></p>
<p class="calibre1">headers</p>
<p class="calibre1"><a href="">inappropriate static methods, 296</a></p>
<p class="calibre1">heuristics</p>
<p class="calibre1">include<a href=""> method, 48</a></p>
<p class="calibre1"><a href="">cross references of, 286, 409</a></p>
<p class="calibre1"><a href="">inconsistency, in code, 292</a></p>
<p class="calibre1"><a href="">general, 288–307</a></p>
<p class="calibre1"><a href="">inconsistent spellings, 20</a></p>
<p class="calibre1"><a href="">listing of, 285–314</a></p>
<p class="calibre1"><a href="">incrementalism, 212–214</a></p>
<p class="calibre1"><a href="">hidden temporal coupling, 259, 302–303</a></p>
<p class="calibre1"><a href="">indent level, of a function, 35</a></p>
<p class="calibre1"><a href="">hidden things, in a function, 44</a></p>
<p class="calibre1"><a href="">indentation, of code, 88–89</a></p>
<p class="calibre1">hiding</p>
<p class="calibre1"><a href="">indentation rules, 89</a></p>
<p class="calibre1"><a href="">implementation, 94</a></p>
<p class="calibre1"><a href="">independent tests, 132</a></p>
<p class="calibre1"><a href="">structures, 99</a></p>
<p class="calibre1">information</p>
<p class="calibre1"><a href="">hierarchy of scopes, 88</a></p>
<p class="calibre1"><a href="">inappropriate, 286</a></p>
<p class="calibre1">HN.  <i class="calibre4">See</i> Hungarian Notation</p>
<p class="calibre1"><a href="">too much, 70, 291–292</a></p>
<p class="calibre1"><a href="">horizontal alignment, of code, 87–88</a></p>
<p class="calibre1"><a href="">informative comments, 56</a></p>
<p class="calibre1"><a href="">horizontal formatting, 85–90</a></p>
<p class="calibre1"><a href="">inheritance hierarchy, 308</a></p>
<p class="calibre1"><a href="">horizontal white space, 86</a></p>
<p class="calibre1">inobvious connection, between a comment</p>
<p class="calibre1"><a href="">HTML, in source code, 69</a></p>
<p class="calibre1"><a href="">and code, 70</a></p>
<p class="calibre1"><a href="">Hungarian Notation (HN), 23–24, 295</a></p>
<p class="calibre1"><a href="">input arguments, 41</a></p>
<p class="calibre1"><a href="">Hunt, Andy, 8, 289</a></p>
<p class="calibre1">instance variables</p>
<p class="calibre1"><a href="">hybrid structures, 99</a></p>
<p class="calibre1"><a href="">in classes, 140</a></p>
<p class="calibre1"><a href="">declaring, 81</a></p>
<p class="calibre1"><b class="calibre3">I</b></p>
<p class="calibre1"><a href="">hiding the declaration of, 81–82</a></p>
<p class="calibre1">passing as function</p>
<p class="calibre1">if statements</p>
<p class="calibre1"><a href="">arguments, 231</a></p>
<p class="calibre1"><a href="">duplicate, 276</a></p>
<p class="calibre1"><a href="">proliferation of, 140</a></p>
<p class="calibre1"><a href="">eliminating, 262</a></p>
<p class="calibre1"><a href="">instrumented classes, 342</a></p>
<p class="calibre1">if-else chain</p>
<p class="calibre1"><a href="">insufficient tests, 313</a></p>
<p class="calibre1"><a href="">appearing again and again, 290</a></p>
<p class="calibre1">integer argument(s)</p>
<p class="calibre1"><a href="">eliminating, 233</a></p>
<p class="calibre1"><a href="">defining, 194</a></p>
<p class="calibre1"><a href="">ignored tests, 313</a></p>
<p class="calibre1"><a href="">integrating, 224–225</a></p>
<p class="calibre1">implementation</p>
<p class="calibre1">integer argument functionality,</p>
<p class="calibre1"><a href="">duplication of, 173</a></p>
<p class="calibre1">moving into ArgumentMarshaler,</p>
<p class="calibre1"><a href="">encoding, 24</a></p>
<p class="calibre1"><a href="">215–216</a></p>
<p class="calibre1"><a id="p453"></a>422</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1">integer argument type, adding</p>
<p class="calibre1">Java programmers, encoding not</p>
<p class="calibre1">to Args<a href="">, 212</a></p>
<p class="calibre1"><a href="">needed, 24</a></p>
<p class="calibre1"><a href="">integers, pattern of changes for, 220</a></p>
<p class="calibre1"><a href="">Java proxies, 161–163</a></p>
<p class="calibre1"><a href="">IntelliJ, 26</a></p>
<p class="calibre1"><a href="">Java source files, 76–77</a></p>
<p class="calibre1">intent</p>
<p class="calibre1">javadocs</p>
<p class="calibre1"><a href="">explaining in code, 55</a></p>
<p class="calibre1"><a href="">as clutter, 276</a></p>
<p class="calibre1"><a href="">explanation of, 56–57</a></p>
<p class="calibre1"><a href="">in nonpublic code, 71</a></p>
<p class="calibre1"><a href="">obscured, 295</a></p>
<p class="calibre1"><a href="">preserving formatting in, 270</a></p>
<p class="calibre1"><a href="">intention-revealing function, 19</a></p>
<p class="calibre1"><a href="">in public APIs, 59</a></p>
<p class="calibre1"><a href="">intention-revealing names, 18–19</a></p>
<p class="calibre1"><a href="">requiring for every function, 63</a></p>
<p class="calibre1">interface(s)</p>
<p class="calibre1">java.util.concurrent package, collections</p>
<p class="calibre1"><a href="">defining local or remote, 158–160</a></p>
<p class="calibre1"><a href="">in, 182–183</a></p>
<p class="calibre1"><a href="">encoding, 24</a></p>
<p class="calibre1"><a href="">JBoss AOP, proxies in, 163</a></p>
<p class="calibre1"><a href="">implementing, 149–150</a></p>
<p class="calibre1"><a href="">JCommon library, 267</a></p>
<p class="calibre1"><a href="">representing abstract concerns, 150</a></p>
<p class="calibre1">JCommon<a href=""> unit tests, 270</a></p>
<p class="calibre1">turning ArgumentMarshaler<a href=""> into, 237</a></p>
<p class="calibre1"><a href="">JDepend project, 76, 77</a></p>
<p class="calibre1"><a href="">well-defined, 291–292</a></p>
<p class="calibre1">JDK proxy, providing persistence support,</p>
<p class="calibre1"><a href="">writing, 119</a></p>
<p class="calibre1"><a href="">161–163</a></p>
<p class="calibre1"><a href="">internal structures, objects hiding, 97</a></p>
<p class="calibre1"><a href="">Jeffries, Ron, 10–11, 289</a></p>
<p class="calibre1"><a href="">intersection, of domains, 160</a></p>
<p class="calibre1"><a href="">jiggling strategies, 190</a></p>
<p class="calibre1"><a href="">intuition, not relying on, 289</a></p>
<p class="calibre1"><a href="">JNDI lookups, 157</a></p>
<p class="calibre1">inventor of <a href="">C++, 7</a></p>
<p class="calibre1"><a href="">journal comments, 63–64</a></p>
<p class="calibre1"><a href="">Inversion of Control (IoC), 157</a></p>
<p class="calibre1">JUnit<a href="">, 34</a></p>
<p class="calibre1">InvocationHandler<a href=""> object, 162</a></p>
<p class="calibre1"><a href="">JUnit framework, 252–265</a></p>
<p class="calibre1"><a href="">I/O bound, 318</a></p>
<p class="calibre1"><a href="">Junit project, 76, 77</a></p>
<p class="calibre1"><a href="">isolating, from change, 149–150</a></p>
<p class="calibre1"><a href="">Just-In-Time Compiler, 180</a></p>
<p class="calibre1">isxxxArg <a href="">methods, 221–222</a></p>
<p class="calibre1"><a href="">iterative process, refactoring as, 265</a></p>
<p class="calibre1"><b class="calibre3">K</b></p>
<p class="calibre1"><b class="calibre3">J</b></p>
<p class="calibre1"><a href="">keyword form, of a function name, 43</a></p>
<p class="calibre1">jar files, deploying derivatives and bases</p>
<p class="calibre1"><a href="">in, 291</a></p>
<p class="calibre1"><b class="calibre3">L</b></p>
<p class="calibre1">Java</p>
<p class="calibre1">L<a href="">, lower-case in variable names, 20</a></p>
<p class="calibre1">aspects or aspect-like mechanisms,</p>
<p class="calibre1"><a href="">language design, art of programming as, 49</a></p>
<p class="calibre1"><a href="">161–166</a></p>
<p class="calibre1">languages</p>
<p class="calibre1"><a href="">heuristics on, 307–309</a></p>
<p class="calibre1"><a href="">appearing to be simple, 12</a></p>
<p class="calibre1"><a href="">as a wordy language, 200</a></p>
<p class="calibre1"><a href="">level of abstraction, 2</a></p>
<p class="calibre1">Java 5, improvements for concurrent</p>
<p class="calibre1"><a href="">multiple in one source file, 288</a></p>
<p class="calibre1"><a href="">development, 182–183</a></p>
<p class="calibre1"><a href="">multiples in a comment, 270</a></p>
<p class="calibre1"><a href="">Java 5 Executor framework, 320–321</a></p>
<p class="calibre1">last-in, first-out (LIFO) data structure,</p>
<p class="calibre1">Java 5 VM, nonblocking solutions in,</p>
<p class="calibre1"><a href="">operand stack as, 324</a></p>
<p class="calibre1"><a href="">327–328</a></p>
<p class="calibre1"><a href="">Law of Demeter, 97–98, 306</a></p>
<p class="calibre1"><a href="">Java AOP frameworks, 163–166</a></p>
<p class="calibre1"><a id="p454"></a><b class="calibre3">Index</b></p>
<p class="calibre1">423</p>
<p class="calibre1">LAZY INITIALIZATION/</p>
<p class="calibre1"><a href="">managers, role of, 6</a></p>
<p class="calibre1"><a href="">EVALUATION idiom, 154</a></p>
<p class="calibre1"><a href="">mandated comments, 63</a></p>
<p class="calibre1"><a href="">LAZY-INITIALIZATION, 157</a></p>
<p class="calibre1"><a href="">manual control, over a serial ID, 272</a></p>
<p class="calibre1"><a href="">Lea, Doug, 182, 342</a></p>
<p class="calibre1">Map</p>
<p class="calibre1"><a href="">learning tests, 116, 118</a></p>
<p class="calibre1">adding for ArgumentMarshaler<a href="">, 221</a></p>
<p class="calibre1"><a href="">LeBlanc’s law, 4</a></p>
<p class="calibre1"><a href="">methods of, 114</a></p>
<p class="calibre1"><a href="">legacy code, 307</a></p>
<p class="calibre1"><a href="">maps, breaking the use of, 222–223</a></p>
<p class="calibre1"><a href="">legal comments, 55–56</a></p>
<p class="calibre1">marshalling implementation,</p>
<p class="calibre1"><a href="">level of abstraction, 36–37</a></p>
<p class="calibre1"><a href="">214–215</a></p>
<p class="calibre1"><a href="">levels of detail, 99</a></p>
<p class="calibre1"><a href="">meaningful context, 27–29</a></p>
<p class="calibre1"><a href="">lexicon, having a consistent, 26</a></p>
<p class="calibre1">member variables</p>
<p class="calibre1">lines of code</p>
<p class="calibre1">f<a href=""> prefix for, 257</a></p>
<p class="calibre1"><a href="">duplicating, 173</a></p>
<p class="calibre1"><a href="">prefixing, 24</a></p>
<p class="calibre1"><a href="">width of, 85</a></p>
<p class="calibre1"><a href="">renaming for clarity, 259</a></p>
<p class="calibre1">list(s)</p>
<p class="calibre1"><a href="">mental mapping, avoiding, 25</a></p>
<p class="calibre1"><a href="">of arguments, 43</a></p>
<p class="calibre1">messy code.  <i class="calibre4">See also</i> bad code; dirty code</p>
<p class="calibre1"><a href="">meaning specific to programmers, 19</a></p>
<p class="calibre1"><a href="">total cost of owning, 4–12</a></p>
<p class="calibre1"><a href="">returning a predefined immutable, 110</a></p>
<p class="calibre1"><a href="">method invocations, 324</a></p>
<p class="calibre1"><a href="">literate code, 9</a></p>
<p class="calibre1"><a href="">method names, 25</a></p>
<p class="calibre1"><a href="">literate programming, 9</a></p>
<p class="calibre1">methods</p>
<p class="calibre1"><i class="calibre4">Literate Programming</i><a href="">, 141</a></p>
<p class="calibre1"><a href="">affecting the order of execution, 188</a></p>
<p class="calibre1"><a href="">livelock, 183, 338</a></p>
<p class="calibre1"><a href="">calling a twin with a flag, 278</a></p>
<p class="calibre1"><a href="">local comments, 69–70</a></p>
<p class="calibre1"><a href="">changing from static to instance, 280</a></p>
<p class="calibre1"><a href="">local variables, 324</a></p>
<p class="calibre1"><a href="">of classes, 140</a></p>
<p class="calibre1"><a href="">declaring, 292</a></p>
<p class="calibre1"><a href="">dependencies between, 329–333</a></p>
<p class="calibre1"><a href="">at the top of each function, 80</a></p>
<p class="calibre1">eliminating duplication between,</p>
<p class="calibre1"><a href="">lock &amp; wait, 337, 338</a></p>
<p class="calibre1"><a href="">173–174</a></p>
<p class="calibre1"><a href="">locks, introducing, 185</a></p>
<p class="calibre1"><a href="">minimizing assert statements in, 176</a></p>
<p class="calibre1">log4j<a href=""> package, 116–118</a></p>
<p class="calibre1"><a href="">naming, 25</a></p>
<p class="calibre1"><a href="">logical dependencies, 282, 298–299</a></p>
<p class="calibre1"><a href="">tests exposing bugs in, 269</a></p>
<p class="calibre1"><a href="">LOGO language, 36</a></p>
<p class="calibre1"><a href="">minimal code, 9</a></p>
<p class="calibre1"><a href="">long descriptive names, 39</a></p>
<p class="calibre1"><a href="">misleading comments, 63</a></p>
<p class="calibre1"><a href="">long names, for long scopes, 312</a></p>
<p class="calibre1"><a href="">misplaced responsibility, 295–296, 299</a></p>
<p class="calibre1"><a href="">loop counters, single-letter names for, 25</a></p>
<p class="calibre1"><a href="">MOCK OBJECT, assigning, 155</a></p>
<p class="calibre1"><a href="">monadic argument, 40</a></p>
<p class="calibre1"><a href="">monadic forms, of arguments, 41</a></p>
<p class="calibre1"><b class="calibre3">M</b></p>
<p class="calibre1"><a href="">monads, converting dyads into, 42</a></p>
<p class="calibre1"><a href="">Monte Carlo testing, 341</a></p>
<p class="calibre1">magic numbers</p>
<p class="calibre1">Month <a href="">enum, 278</a></p>
<p class="calibre1"><a href="">obscuring intent, 295</a></p>
<p class="calibre1">MonthConstants<a href=""> class, 271</a></p>
<p class="calibre1">replacing with named constants,</p>
<p class="calibre1"><a href="">multithread aware, 332</a></p>
<p class="calibre1"><a href="">300–301</a></p>
<p class="calibre1">multithread-calculation, of throughput,</p>
<p class="calibre1">main function, moving construction to,</p>
<p class="calibre1"><a href="">335</a></p>
<p class="calibre1"><a href="">155, 156</a></p>
<p class="calibre1"><a id="p455"></a>424</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1"><a href="">multithreaded code, 188, 339–342</a></p>
<p class="calibre1"><a href="">Newkirk, Jim, 116</a></p>
<p class="calibre1"><a href="">mumbling, 59–60</a></p>
<p class="calibre1"><a href="">newspaper metaphor, 77–78</a></p>
<p class="calibre1"><a href="">mutators, naming, 25</a></p>
<p class="calibre1"><a href="">niladic argument, 40</a></p>
<p class="calibre1"><a href="">mutual exclusion, 183, 336, 337</a></p>
<p class="calibre1"><a href="">no preemption, 337</a></p>
<p class="calibre1">noise</p>
<p class="calibre1"><a href="">comments, 64–66</a></p>
<p class="calibre1"><b class="calibre3">N</b></p>
<p class="calibre1"><a href="">scary, 66</a></p>
<p class="calibre1">named constants, replacing magic</p>
<p class="calibre1"><a href="">words, 21</a></p>
<p class="calibre1"><a href="">numbers, 300–301</a></p>
<p class="calibre1"><a href="">nomenclature, using standard, 311–312</a></p>
<p class="calibre1"><a href="">name-length-challenged languages, 23</a></p>
<p class="calibre1"><a href="">nonblocking solutions, 327–328</a></p>
<p class="calibre1">names</p>
<p class="calibre1"><a href="">nonconcurrency-related code, 181</a></p>
<p class="calibre1"><a href="">abstractions, appropriate level of, 311</a></p>
<p class="calibre1"><a href="">noninformative names, 21</a></p>
<p class="calibre1"><a href="">changing, 40</a></p>
<p class="calibre1"><a href="">nonlocal information, 69–70</a></p>
<p class="calibre1"><a href="">choosing, 175, 309–310</a></p>
<p class="calibre1"><a href="">nonpublic code, javadocs in, 71</a></p>
<p class="calibre1"><a href="">of classes, 270–271</a></p>
<p class="calibre1"><a href="">nonstatic methods, preferred to static, 296</a></p>
<p class="calibre1"><a href="">clever, 26</a></p>
<p class="calibre1">nonthreaded code, getting working</p>
<p class="calibre1"><a href="">descriptive, 39–40</a></p>
<p class="calibre1"><a href="">first, 187</a></p>
<p class="calibre1"><a href="">of functions, 297</a></p>
<p class="calibre1"><a href="">nonthread-safe classes, 328–329</a></p>
<p class="calibre1"><a href="">heuristics on, 309–313</a></p>
<p class="calibre1"><a href="">normal flow, 109</a></p>
<p class="calibre1"><a href="">importance of, 309–310</a></p>
<p class="calibre1">null</p>
<p class="calibre1"><a href="">intention-revealing, 18–19</a></p>
<p class="calibre1"><a href="">not passing into methods, 111–112</a></p>
<p class="calibre1">length of corresponding to scope,</p>
<p class="calibre1"><a href="">not returning, 109–110</a></p>
<p class="calibre1"><a href="">22–23</a></p>
<p class="calibre1"><a href="">passed by a caller accidentally, 111</a></p>
<p class="calibre1"><a href="">long names for long scopes, 312</a></p>
<p class="calibre1">null detection logic, for ArgumentMarshaler,</p>
<p class="calibre1"><a href="">making unambiguous, 258</a></p>
<p class="calibre1"><a href="">214</a></p>
<p class="calibre1"><a href="">problem domain, 27</a></p>
<p class="calibre1">NullPointerException<a href="">, 110, 111</a></p>
<p class="calibre1"><a href="">pronounceable, 21–22</a></p>
<p class="calibre1"><a href="">number-series naming, 21</a></p>
<p class="calibre1"><a href="">rules for creating, 18–30</a></p>
<p class="calibre1"><a href="">searchable, 22–23</a></p>
<p class="calibre1"><b class="calibre3">O</b></p>
<p class="calibre1"><a href="">shorter generally better than longer, 30</a></p>
<p class="calibre1"><a href="">solution domain, 27</a></p>
<p class="calibre1"><i class="calibre4">Object Oriented Analysis and Design with </i></p>
<p class="calibre1"><a href="">with subtle differences, 20</a></p>
<p class="calibre1"><i class="calibre4">Applications</i><a href="">, 8</a></p>
<p class="calibre1"><a href="">unambiguous, 312</a></p>
<p class="calibre1"><a href="">object-oriented design, 15</a></p>
<p class="calibre1"><a href="">at the wrong level of abstraction, 271</a></p>
<p class="calibre1">objects</p>
<p class="calibre1"><a href="">naming, classes, 138</a></p>
<p class="calibre1"><a href="">compared to data structures, 95, 97</a></p>
<p class="calibre1">naming conventions, as inferior to</p>
<p class="calibre1">compared to data types and proce-</p>
<p class="calibre1"><a href="">structures, 301</a></p>
<p class="calibre1"><a href="">dures, 101</a></p>
<p class="calibre1">navigational methods, in Active</p>
<p class="calibre1"><a href="">copying read-only, 181</a></p>
<p class="calibre1"><a href="">Records, 101</a></p>
<p class="calibre1"><a href="">defined, 95</a></p>
<p class="calibre1"><a href="">near bugs, testing, 314</a></p>
<p class="calibre1"><a href="">obscured intent, 295</a></p>
<p class="calibre1"><a href="">negative conditionals, avoiding, 302</a></p>
<p class="calibre1"><a href="">obsolete comments, 286</a></p>
<p class="calibre1"><a href="">negatives, 258</a></p>
<p class="calibre1"><a href="">obvious behavior, 288–289</a></p>
<p class="calibre1"><a href="">nested structures, 46</a></p>
<p class="calibre1"><a href="">obvious code, 12</a></p>
<p class="calibre1"><a id="p456"></a><b class="calibre3">Index</b></p>
<p class="calibre1">425</p>
<p class="calibre1"><a href="">“Once and only once” principle, 289</a></p>
<p class="calibre1">performance</p>
<p class="calibre1">“ONE SWITCH” <a href=""> rule, 299</a></p>
<p class="calibre1"><a href="">of a client/server pair, 318</a></p>
<p class="calibre1"><a href="">one thing, functions doing, 35–36, 302</a></p>
<p class="calibre1"><a href="">concurrency improving, 179</a></p>
<p class="calibre1"><a href="">one-offs, 180, 187, 191</a></p>
<p class="calibre1"><a href="">of server-based locking, 333</a></p>
<p class="calibre1"><a href="">OO code, 97</a></p>
<p class="calibre1"><a href="">permutations, calculating, 323</a></p>
<p class="calibre1"><a href="">OO design, 139</a></p>
<p class="calibre1"><a href="">persistence, 160, 161</a></p>
<p class="calibre1"><a href="">Open Closed Principle (OCP), 15, 38</a></p>
<p class="calibre1"><a href="">pessimistic locking, 327</a></p>
<p class="calibre1"><a href="">by checked exceptions, 106</a></p>
<p class="calibre1"><a href="">phraseology, in similar names, 40</a></p>
<p class="calibre1"><a href="">supporting, 149</a></p>
<p class="calibre1"><a href="">physicalizing, a dependency, 299</a></p>
<p class="calibre1"><a href="">operand stack, 324</a></p>
<p class="calibre1">Plain-Old Java Objects.  <i class="calibre4">See</i> POJOs</p>
<p class="calibre1"><a href="">operating systems, threading policies, 188</a></p>
<p class="calibre1"><a href="">platforms, running threaded code, 188</a></p>
<p class="calibre1"><a href="">operators, precedence of, 86</a></p>
<p class="calibre1"><a href="">pleasing code, 7</a></p>
<p class="calibre1"><a href="">optimistic locking, 327</a></p>
<p class="calibre1"><a href="">pluggable thread-based code, 187</a></p>
<p class="calibre1">optimizations, LAZY-EVALUATION</p>
<p class="calibre1"><a href="">POJO system, agility provided by, 168</a></p>
<p class="calibre1"><a href="">as, 157</a></p>
<p class="calibre1">POJOs (Plain-Old Java Objects)</p>
<p class="calibre1"><a href="">optimizing, decision making, 167–168</a></p>
<p class="calibre1"><a href="">creating, 187</a></p>
<p class="calibre1"><a href="">orderings, calculating the possible, 322–323</a></p>
<p class="calibre1"><a href="">implementing business logic, 162</a></p>
<p class="calibre1">organization</p>
<p class="calibre1"><a href="">separating threaded-aware code, 190</a></p>
<p class="calibre1"><a href="">for change, 147–150</a></p>
<p class="calibre1"><a href="">in Spring, 163</a></p>
<p class="calibre1"><a href="">of classes, 136</a></p>
<p class="calibre1"><a href="">writing application domain logic, 166</a></p>
<p class="calibre1"><a href="">managing complexity, 139–140</a></p>
<p class="calibre1"><a href="">polyadic argument, 40</a></p>
<p class="calibre1"><a href="">outbound tests, exercising an interface, 118</a></p>
<p class="calibre1"><a href="">polymorphic behavior, of functions, 296</a></p>
<p class="calibre1"><a href="">output arguments, 41, 288</a></p>
<p class="calibre1"><a href="">polymorphic changes, 96–97</a></p>
<p class="calibre1"><a href="">avoiding, 45</a></p>
<p class="calibre1"><a href="">polymorphism, 37, 299</a></p>
<p class="calibre1"><a href="">need for disappearing, 45</a></p>
<p class="calibre1"><a href="">position markers, 67</a></p>
<p class="calibre1"><a href="">outputs, arguments as, 45</a></p>
<p class="calibre1">positives</p>
<p class="calibre1"><a href="">overhead, incurred by concurrency, 179</a></p>
<p class="calibre1"><a href="">as easier to understand, 258</a></p>
<p class="calibre1"><a href="">overloading, of code with description, 310</a></p>
<p class="calibre1"><a href="">expressing conditionals as, 302</a></p>
<p class="calibre1">of decisions, 301precision</p>
<p class="calibre1"><a href="">as the point of all naming, 30</a></p>
<p class="calibre1"><b class="calibre3">P</b></p>
<p class="calibre1"><a href="">predicates, naming, 25</a></p>
<p class="calibre1">paperback model, as an academic</p>
<p class="calibre1"><a href="">preemption, breaking, 338</a></p>
<p class="calibre1"><a href="">model, 27</a></p>
<p class="calibre1">prefixes</p>
<p class="calibre1"><a href="">parameters, taken by instructions, 324</a></p>
<p class="calibre1"><a href="">for member variables, 24</a></p>
<p class="calibre1">parse operation, throwing an</p>
<p class="calibre1">as useless in today’s environments,</p>
<p class="calibre1"><a href="">exception, 220</a></p>
<p class="calibre1"><a href="">312–313</a></p>
<p class="calibre1"><a href="">partitioning, 250</a></p>
<p class="calibre1">pre-increment operator, ++<a href="">, 324, 325, 326</a></p>
<p class="calibre1"><a href="">paths of execution, 321–326</a></p>
<p class="calibre1"><a href="">“prequel”, this book as, 15</a></p>
<p class="calibre1"><a href="">pathways, through critical sections, 188</a></p>
<p class="calibre1"><a href="">principle of least surprise, 288–289, 295</a></p>
<p class="calibre1"><a href="">pattern names, using standard, 175</a></p>
<p class="calibre1"><a href="">principles, of design, 15</a></p>
<p class="calibre1">patterns</p>
<p class="calibre1">PrintPrimes program, translation into</p>
<p class="calibre1"><a href="">of failure, 314</a></p>
<p class="calibre1"><a href="">Java, 141</a></p>
<p class="calibre1"><a href="">as one kind of standard, 311</a></p>
<p class="calibre1"><a href="">private behavior, isolating, 148–149</a></p>
<p class="calibre1"><a id="p457"></a>426</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1"><a href="">private functions, 292</a></p>
<p class="calibre1"><a href="">Dave Thomas on, 9</a></p>
<p class="calibre1"><a href="">private method behavior, 147</a></p>
<p class="calibre1"><a href="">improving using generics, 115</a></p>
<p class="calibre1"><a href="">problem domain names, 27</a></p>
<p class="calibre1"><a href="">readability perspective, 8</a></p>
<p class="calibre1"><a href="">procedural code, 97</a></p>
<p class="calibre1">readers</p>
<p class="calibre1"><a href="">procedural shape example, 95–96</a></p>
<p class="calibre1"><a href="">of code, 13–14</a></p>
<p class="calibre1"><a href="">procedures, compared to objects, 101</a></p>
<p class="calibre1"><a href="">continuous, 184</a></p>
<p class="calibre1"><a href="">process function, repartitioning, 319–320</a></p>
<p class="calibre1"><a href="">readers-writers execution model, 184</a></p>
<p class="calibre1">process<a href=""> method, I/O bound, 319</a></p>
<p class="calibre1">reading</p>
<p class="calibre1"><a href="">processes, competing for resources, 184</a></p>
<p class="calibre1"><a href="">clean code, 8</a></p>
<p class="calibre1"><a href="">processor bound, code as, 318</a></p>
<p class="calibre1"><a href="">code from top to bottom, 37</a></p>
<p class="calibre1"><a href="">producer consumer execution model, 184</a></p>
<p class="calibre1"><a href="">versus writing, 14</a></p>
<p class="calibre1"><a href="">producer threads, 184</a></p>
<p class="calibre1"><a href="">reboots, as a lock up solution, 331</a></p>
<p class="calibre1"><a href="">production environment, 127–130</a></p>
<p class="calibre1"><a href="">recommendations, in this book, 13</a></p>
<p class="calibre1"><a href="">productivity, decreased by messy code, 4</a></p>
<p class="calibre1"><a href="">redesign, demanded by the team, 5</a></p>
<p class="calibre1"><a href="">professional programmer, 25</a></p>
<p class="calibre1"><a href="">redundancy, of noise words, 21</a></p>
<p class="calibre1"><a href="">professional review, of code, 268</a></p>
<p class="calibre1"><a href="">redundant comments, 60–62, 272, 275, </a></p>
<p class="calibre1">programmers</p>
<p class="calibre1"><a href="">286–287</a></p>
<p class="calibre1"><a href="">as authors, 13–14</a></p>
<p class="calibre1">ReentrantLock<a href=""> class, 183</a></p>
<p class="calibre1"><a href="">conundrum faced by, 6</a></p>
<p class="calibre1"><a href="">refactored programs, as longer, 146</a></p>
<p class="calibre1"><a href="">responsibility  for messes, 5–6</a></p>
<p class="calibre1">refactoring</p>
<p class="calibre1"><a href="">unprofessional, 5–6</a></p>
<p class="calibre1">Args<a href="">, 212</a></p>
<p class="calibre1">programming</p>
<p class="calibre1"><a href="">code incrementally, 172</a></p>
<p class="calibre1"><a href="">defined, 2</a></p>
<p class="calibre1"><a href="">as an iterative process, 265</a></p>
<p class="calibre1"><a href="">structured, 48–49</a></p>
<p class="calibre1"><a href="">putting things in to take out, 233</a></p>
<p class="calibre1"><a href="">programs, getting them to work, 201</a></p>
<p class="calibre1"><a href="">test code, 127</a></p>
<p class="calibre1"><a href="">pronounceable names, 21–22</a></p>
<p class="calibre1"><i class="calibre4">Refactoring</i><a href=""> (Fowler), 285</a></p>
<p class="calibre1"><a href="">protected variables, avoiding, 80</a></p>
<p class="calibre1"><a href="">renaming, fear of, 30</a></p>
<p class="calibre1"><a href="">proxies, drawbacks of, 163</a></p>
<p class="calibre1"><a href="">repeatability, of concurrency bugs, 180</a></p>
<p class="calibre1"><a href="">public APIs, javadocs in, 59</a></p>
<p class="calibre1"><a href="">repeatable tests, 132</a></p>
<p class="calibre1"><a href="">puns, avoiding, 26–27</a></p>
<p class="calibre1"><a href="">requirements, specifying, 2</a></p>
<p class="calibre1">PUTFIELD<a href=""> instruction, as atomic, 325</a></p>
<p class="calibre1">resetId<a href="">, byte-code generated for, 324–325</a></p>
<p class="calibre1">resources</p>
<p class="calibre1"><a href="">bound, 183</a></p>
<p class="calibre1"><b class="calibre3">Q</b></p>
<p class="calibre1"><a href="">processes competing for, 184</a></p>
<p class="calibre1"><a href="">queries, separating from commands, 45–46</a></p>
<p class="calibre1">threads agreeing on a global ordering</p>
<p class="calibre1"><a href="">of, 338</a></p>
<p class="calibre1">responsibilities</p>
<p class="calibre1"><b class="calibre3">R</b></p>
<p class="calibre1"><a href="">counting in classes, 136</a></p>
<p class="calibre1"><a href="">definition of, 138</a></p>
<p class="calibre1"><a href="">random jiggling, tests running, 190</a></p>
<p class="calibre1"><a href="">identifying, 139</a></p>
<p class="calibre1"><a href="">range, including end-point dates in, 276</a></p>
<p class="calibre1"><a href="">misplaced, 295–296, 299</a></p>
<p class="calibre1">readability</p>
<p class="calibre1"><a href="">splitting a program into main, 146</a></p>
<p class="calibre1"><a href="">of clean tests, 124</a></p>
<p class="calibre1">return codes, using exceptions instead,</p>
<p class="calibre1"><a href="">of code, 76</a></p>
<p class="calibre1"><a href="">103–105</a></p>
<p class="calibre1"><a id="p458"></a><b class="calibre3">Index</b></p>
<p class="calibre1">427</p>
<p class="calibre1"><a href="">reuse, 174</a></p>
<p class="calibre1"><a href="">server application, 317–318, 343–344</a></p>
<p class="calibre1"><a href="">risk of change, reducing, 147</a></p>
<p class="calibre1"><a href="">server code, responsibilities of, 319</a></p>
<p class="calibre1"><a href="">robust clear code, writing, 112</a></p>
<p class="calibre1"><a href="">server-based locking, 329</a></p>
<p class="calibre1"><a href="">rough drafts, writing, 200</a></p>
<p class="calibre1"><a href="">as preferred, 332–333</a></p>
<p class="calibre1">runnable<a href=""> interface, 326</a></p>
<p class="calibre1"><a href="">with synchronized methods, 185</a></p>
<p class="calibre1"><a href="">run-on expressions, 295</a></p>
<p class="calibre1"><a href="">“Servlet” model, of Web applications, 178</a></p>
<p class="calibre1"><a href="">run-on journal entries, 63–64</a></p>
<p class="calibre1">Servlets<a href="">, synchronization problems, 182</a></p>
<p class="calibre1"><a href="">runtime logic, separating startup from, 154</a></p>
<p class="calibre1">set functions, moving into appropriate</p>
<p class="calibre1"><a href="">derivatives, 232, 233–235</a></p>
<p class="calibre1">setArgument<a href="">, changing, 232–233</a></p>
<p class="calibre1"><b class="calibre3">S</b></p>
<p class="calibre1">setBoolean<a href=""> function, 217</a></p>
<p class="calibre1"><a href="">safety mechanisms, overridden, 289</a></p>
<p class="calibre1">setter methods, injecting dependencies,</p>
<p class="calibre1"><a href="">scaling up, 157–161</a></p>
<p class="calibre1"><a href="">157</a></p>
<p class="calibre1"><a href="">scary noise, 66</a></p>
<p class="calibre1"><a href="">setup strategy, 155</a></p>
<p class="calibre1"><a href="">schema, of a class, 194</a></p>
<p class="calibre1">SetupTeardownIncluder.java listing,</p>
<p class="calibre1">schools of thought, about clean code,</p>
<p class="calibre1"><a href="">50–52</a></p>
<p class="calibre1"><a href="">12–13</a></p>
<p class="calibre1"><a href="">shape classes, 95–96</a></p>
<p class="calibre1"><a href="">scissors rule, in C++, 81</a></p>
<p class="calibre1"><a href="">shared data, limiting access, 181</a></p>
<p class="calibre1">scope(s)</p>
<p class="calibre1">shared variables</p>
<p class="calibre1"><a href="">defined by exceptions, 105</a></p>
<p class="calibre1"><a href="">method updating, 328</a></p>
<p class="calibre1"><a href="">dummy, 90</a></p>
<p class="calibre1"><a href="">reducing the scope of, 333</a></p>
<p class="calibre1"><a href="">envying, 293</a></p>
<p class="calibre1">shotgun approach, hand-coded instrumen-</p>
<p class="calibre1"><a href="">expanding and indenting, 89</a></p>
<p class="calibre1"><a href="">tation as, 189</a></p>
<p class="calibre1"><a href="">hierarchy in a source file, 88</a></p>
<p class="calibre1"><a href="">shut-down code, 186</a></p>
<p class="calibre1"><a href="">limiting for data, 181</a></p>
<p class="calibre1"><a href="">shutdowns, graceful, 186</a></p>
<p class="calibre1">names related to the length of,</p>
<p class="calibre1">side effects</p>
<p class="calibre1"><a href="">22–23, 312</a></p>
<p class="calibre1"><a href="">having none, 44</a></p>
<p class="calibre1"><a href="">of shared variables, 333</a></p>
<p class="calibre1"><a href="">names describing, 313</a></p>
<p class="calibre1"><a href="">searchable names, 22–23</a></p>
<p class="calibre1"><a href="">Simmons, Robert, 276</a></p>
<p class="calibre1"><a href="">Second Law, of TDD, 122</a></p>
<p class="calibre1"><a href="">simple code, 10, 12</a></p>
<p class="calibre1"><a href="">sections, within functions, 36</a></p>
<p class="calibre1"><a href="">Simple Design, rules of, 171–176</a></p>
<p class="calibre1"><a href="">selector arguments, avoiding, 294–295</a></p>
<p class="calibre1"><a href="">simplicity, of code, 18, 19</a></p>
<p class="calibre1"><a href="">self validating tests, 132</a></p>
<p class="calibre1"><a href="">single assert rule, 130–131</a></p>
<p class="calibre1">Semaphore <a href="">class, 183</a></p>
<p class="calibre1">single concepts, in each test function,</p>
<p class="calibre1"><a href="">semicolon, making visible, 90</a></p>
<p class="calibre1"><a href="">131–132</a></p>
<p class="calibre1">“serial number”, SerialDate<a href=""> using, 271</a></p>
<p class="calibre1"><a href="">Single Responsibility Principle (SRP), 15, </a></p>
<p class="calibre1">SerialDate class</p>
<p class="calibre1"><a href="">138–140</a></p>
<p class="calibre1"><a href="">making it right, 270–284</a></p>
<p class="calibre1"><a href="">applying, 321</a></p>
<p class="calibre1"><a href="">naming of, 270–271</a></p>
<p class="calibre1"><a href="">breaking, 155</a></p>
<p class="calibre1"><a href="">refactoring, 267–284</a></p>
<p class="calibre1">as a concurrency defense principle,</p>
<p class="calibre1">SerialDateTests<a href=""> class, 268</a></p>
<p class="calibre1"><a href="">181</a></p>
<p class="calibre1"><a href="">serialization, 272</a></p>
<p class="calibre1"><a href="">recognizing violations of, 174</a></p>
<p class="calibre1"><a href="">server, threads created by, 319–321</a></p>
<p class="calibre1"><a href="">server violating, 320</a></p>
<p class="calibre1"><a id="p459"></a>428</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1">Single Responsibility Principle (SRP),</p>
<p class="calibre1"><a href="">starvation, 183, 184, 338</a></p>
<p class="calibre1"><i class="calibre4">continued</i></p>
<p class="calibre1"><a href="">static function, 279</a></p>
<p class="calibre1">Sql<a href=""> class violating, 147</a></p>
<p class="calibre1"><a href="">static import, 308</a></p>
<p class="calibre1"><a href="">supporting, 157</a></p>
<p class="calibre1"><a href="">static methods, inappropriate, 296</a></p>
<p class="calibre1"><a href="">in test classes conforming to, 172</a></p>
<p class="calibre1"><i class="calibre4">The Step-down Rule</i><a href="">, 37</a></p>
<p class="calibre1"><a href="">violating, 38</a></p>
<p class="calibre1"><a href="">stories, implementing only today’s, 158</a></p>
<p class="calibre1"><a href="">single value, ordered components of, 42</a></p>
<p class="calibre1"><a href="">STRATEGY pattern, 290</a></p>
<p class="calibre1"><a href="">single-letter names, 22, 25</a></p>
<p class="calibre1">string <a href="">arguments, 194, 208–212, 214–225</a></p>
<p class="calibre1">single-thread calculation, of throughput,</p>
<p class="calibre1"><a href="">string comparison errors, 252</a></p>
<p class="calibre1"><a href="">334</a></p>
<p class="calibre1">StringBuffers<a href="">, 129</a></p>
<p class="calibre1"><a href="">SINGLETON pattern, 274</a></p>
<p class="calibre1"><a href="">Stroustrup, Bjarne, 7–8</a></p>
<p class="calibre1"><a href="">small classes, 136</a></p>
<p class="calibre1">structure(s).  <i class="calibre4">See also</i> data structures</p>
<p class="calibre1"><i class="calibre4">Smalltalk Best Practice Patterns</i><a href="">, 296</a></p>
<p class="calibre1"><a href="">hiding, 99</a></p>
<p class="calibre1"><a href="">smart programmer, 25</a></p>
<p class="calibre1"><a href="">hybrid, 99</a></p>
<p class="calibre1"><a href="">software project, maintenance of, 175</a></p>
<p class="calibre1"><a href="">making massive changes to, 212</a></p>
<p class="calibre1">software systems.  <i class="calibre4">See also</i> system(s)</p>
<p class="calibre1"><a href="">over convention, 301</a></p>
<p class="calibre1"><a href="">compared to physical systems, 158</a></p>
<p class="calibre1"><a href="">structured programming, 48–49</a></p>
<p class="calibre1"><a href="">SOLID class design principle, 150</a></p>
<p class="calibre1">SuperDashboard<a href=""> class, 136–137</a></p>
<p class="calibre1"><a href="">solution domain names, 27</a></p>
<p class="calibre1"><a href="">swapping, as permutations, 323</a></p>
<p class="calibre1"><a href="">source code control systems, 64, 68, 69</a></p>
<p class="calibre1">switch statements</p>
<p class="calibre1">source files</p>
<p class="calibre1"><a href="">burying, 37, 38</a></p>
<p class="calibre1">compared to newspaper articles,</p>
<p class="calibre1">considering polymorphism</p>
<p class="calibre1"><a href="">77–78</a></p>
<p class="calibre1"><a href="">before, 299</a></p>
<p class="calibre1"><a href="">multiple languages in, 288</a></p>
<p class="calibre1"><a href="">reasons to tolerate, 38–39</a></p>
<p class="calibre1"><i class="calibre4">Sparkle</i><a href=""> program, 34</a></p>
<p class="calibre1">switch/case <a href="">chain, 290</a></p>
<p class="calibre1"><a href="">spawned threads, deadlocked, 186</a></p>
<p class="calibre1">synchronization problems, avoiding with</p>
<p class="calibre1"><a href="">special case objects, 110</a></p>
<p class="calibre1">Servlets<a href="">, 182</a></p>
<p class="calibre1"><a href="">SPECIAL CASE PATTERN, 109</a></p>
<p class="calibre1">synchronized<a href=""> block, 334</a></p>
<p class="calibre1"><a href="">specifications, purpose of, 2</a></p>
<p class="calibre1">synchronized<a href=""> keyword, 185</a></p>
<p class="calibre1"><a href="">spelling errors, correcting, 20</a></p>
<p class="calibre1"><a href="">adding, 323</a></p>
<p class="calibre1">SpreadsheetDateFactory<a href="">, 274–275</a></p>
<p class="calibre1"><a href="">always acquiring a lock, 328</a></p>
<p class="calibre1"><a href="">Spring AOP, proxies in, 163</a></p>
<p class="calibre1"><a href="">introducing a lock via, 331</a></p>
<p class="calibre1"><a href="">Spring Framework, 157</a></p>
<p class="calibre1">protecting a critical section</p>
<p class="calibre1"><a href="">Spring model, following EJB3, 165</a></p>
<p class="calibre1"><a href="">in code, 181</a></p>
<p class="calibre1"><a href="">Spring V2.5 configuration file, 163–164</a></p>
<p class="calibre1"><a href="">synchronized methods, 185</a></p>
<p class="calibre1"><a href="">spurious failures, 187</a></p>
<p class="calibre1"><a href="">synchronizing, avoiding, 182</a></p>
<p class="calibre1">Sql<a href=""> class, changing, 147–149</a></p>
<p class="calibre1"><a href="">synthesis functions, 265</a></p>
<p class="calibre1"><a href="">square root, as the iteration limit, 74</a></p>
<p class="calibre1">system(s).  <i class="calibre4">See also</i> software systems</p>
<p class="calibre1">SRP.  <i class="calibre4">See</i> Single Responsibility Principle</p>
<p class="calibre1"><a href="">file sizes of significant, 77</a></p>
<p class="calibre1"><a href="">standard conventions, 299–300</a></p>
<p class="calibre1">keeping running during development,</p>
<p class="calibre1"><a href="">standard nomenclature, 175, 311–312</a></p>
<p class="calibre1"><a href="">213</a></p>
<p class="calibre1"><a href="">standards, using wisely, 168</a></p>
<p class="calibre1"><a href="">needing domain-specific, 168</a></p>
<p class="calibre1">startup process, separating from runtime</p>
<p class="calibre1">system architecture, test driving,</p>
<p class="calibre1"><a href="">logic, 154</a></p>
<p class="calibre1"><a href="">166–167</a></p>
<p class="calibre1"><a id="p460"></a><b class="calibre3">Index</b></p>
<p class="calibre1">429</p>
<p class="calibre1">system failures, not ignoring</p>
<p class="calibre1"><a href="">test functions, single concepts in, 131–132</a></p>
<p class="calibre1"><a href="">one-offs, 187</a></p>
<p class="calibre1"><a href="">test implementation, of an interface, 150</a></p>
<p class="calibre1"><a href="">system level, staying clean at, 154</a></p>
<p class="calibre1">test suite</p>
<p class="calibre1">system-wide information, in a local</p>
<p class="calibre1"><a href="">automated, 213</a></p>
<p class="calibre1"><a href="">comment, 69–70</a></p>
<p class="calibre1"><a href="">of unit tests, 124, 268</a></p>
<p class="calibre1"><a href="">verifying precise behavior, 146</a></p>
<p class="calibre1"><a href="">testable systems, 172</a></p>
<p class="calibre1"><b class="calibre3">T</b></p>
<p class="calibre1">test-driven development.  <i class="calibre4">See</i> TDD</p>
<p class="calibre1"><a href="">tables, moving, 275</a></p>
<p class="calibre1">testing</p>
<p class="calibre1">target deployment platforms, running tests</p>
<p class="calibre1"><a href="">arguments making harder, 40</a></p>
<p class="calibre1"><a href="">on, 341</a></p>
<p class="calibre1">construction logic mixed with</p>
<p class="calibre1"><a href="">task swapping, encouraging, 188</a></p>
<p class="calibre1"><a href="">runtime, 155</a></p>
<p class="calibre1"><a href="">TDD (Test Driven Development), 213</a></p>
<p class="calibre1"><a href="">testing language, domain-specific, 127</a></p>
<p class="calibre1"><a href="">building logic, 106</a></p>
<p class="calibre1"><a href="">testNG project, 76, 77</a></p>
<p class="calibre1"><a href="">as fundamental discipline, 9</a></p>
<p class="calibre1">tests</p>
<p class="calibre1"><a href="">laws of, 122–123</a></p>
<p class="calibre1"><a href="">clean, 124–127</a></p>
<p class="calibre1"><a href="">team rules, 90</a></p>
<p class="calibre1"><a href="">cleanliness tied to, 9</a></p>
<p class="calibre1">teams</p>
<p class="calibre1">commented out for SerialDate,</p>
<p class="calibre1"><a href="">coding standard for every, 299–300</a></p>
<p class="calibre1"><a href="">268–270</a></p>
<p class="calibre1"><a href="">slowed by messy code, 4</a></p>
<p class="calibre1"><a href="">dirty, 123</a></p>
<p class="calibre1"><a href="">technical names, choosing, 27</a></p>
<p class="calibre1"><a href="">enabling the -ilities, 124</a></p>
<p class="calibre1">technical notes, reserving comments</p>
<p class="calibre1"><a href="">fast, 132</a></p>
<p class="calibre1"><a href="">for, 286</a></p>
<p class="calibre1"><a href="">fast versus slow, 314</a></p>
<p class="calibre1">TEMPLATE METHOD pattern</p>
<p class="calibre1"><a href="">heuristics on, 313–314</a></p>
<p class="calibre1"><a href="">addressing duplication, 290</a></p>
<p class="calibre1"><a href="">ignored, 313</a></p>
<p class="calibre1">removing higher-level duplication,</p>
<p class="calibre1"><a href="">independent, 132</a></p>
<p class="calibre1"><a href="">174–175</a></p>
<p class="calibre1"><a href="">insufficient, 313</a></p>
<p class="calibre1"><a href="">using, 130</a></p>
<p class="calibre1"><a href="">keeping clean, 123–124</a></p>
<p class="calibre1">temporal coupling.  <i class="calibre4">See also</i> coupling</p>
<p class="calibre1">minimizing assert statements in,</p>
<p class="calibre1"><a href="">exposing, 259–260</a></p>
<p class="calibre1"><a href="">130–131</a></p>
<p class="calibre1"><a href="">hidden, 302–303</a></p>
<p class="calibre1"><a href="">not stopping trivial, 313</a></p>
<p class="calibre1"><a href="">side effect creating, 44</a></p>
<p class="calibre1"><a href="">refactoring, 126–127</a></p>
<p class="calibre1"><a href="">temporary variables, explaining, 279–281</a></p>
<p class="calibre1"><a href="">repeatable, 132</a></p>
<p class="calibre1">test cases</p>
<p class="calibre1"><a href="">requiring more than one step, 287</a></p>
<p class="calibre1"><a href="">adding to check arguments, 237</a></p>
<p class="calibre1"><a href="">running, 341</a></p>
<p class="calibre1">in ComparisonCompactor<a href="">, 252–254</a></p>
<p class="calibre1"><a href="">self validating, 132</a></p>
<p class="calibre1"><a href="">patterns of failure, 269, 314</a></p>
<p class="calibre1"><a href="">simple design running all, 172</a></p>
<p class="calibre1"><a href="">turning off, 58</a></p>
<p class="calibre1"><a href="">suite of automated, 213</a></p>
<p class="calibre1"><a href="">test code, 124, 127</a></p>
<p class="calibre1"><a href="">timely, 133</a></p>
<p class="calibre1"><a href="">TEST DOUBLE, assigning, 155</a></p>
<p class="calibre1">writing for multithreaded code,</p>
<p class="calibre1">Test Driven Development.  <i class="calibre4">See</i> TDD</p>
<p class="calibre1"><a href="">339–342</a></p>
<p class="calibre1"><a href="">test driving, architecture, 166–167</a></p>
<p class="calibre1"><a href="">writing for threaded code, 186–190</a></p>
<p class="calibre1"><a href="">test environment, 127–130</a></p>
<p class="calibre1"><a href="">writing good, 122–123</a></p>
<p class="calibre1"><a id="p461"></a>430</p>
<p class="calibre1"><b class="calibre3">Index</b></p>
<p class="calibre1"><a href="">Third Law, of TDD, 122</a></p>
<p class="calibre1"><a href="">timer program, testing, 121–122</a></p>
<p class="calibre1">third-party code</p>
<p class="calibre1"><a href="">“TO” keyword, 36</a></p>
<p class="calibre1"><a href="">integrating, 116</a></p>
<p class="calibre1"><a href="">TO paragraphs, 37</a></p>
<p class="calibre1"><a href="">learning, 116</a></p>
<p class="calibre1">TODO <a href="">comments, 58–59</a></p>
<p class="calibre1"><a href="">using, 114–115</a></p>
<p class="calibre1"><a href="">tokens, used as magic numbers, 300</a></p>
<p class="calibre1"><a href="">writing tests for, 116</a></p>
<p class="calibre1"><a href="">Tomcat project, 76, 77</a></p>
<p class="calibre1">this<a href=""> variable, 324</a></p>
<p class="calibre1">tools</p>
<p class="calibre1"><a href="">Thomas, Dave, 8, 9, 289</a></p>
<p class="calibre1"><a href="">ConTest tool, 190, 342</a></p>
<p class="calibre1">thread(s)</p>
<p class="calibre1"><a href="">coverage, 313</a></p>
<p class="calibre1"><a href="">adding to a method, 322</a></p>
<p class="calibre1"><a href="">handling proxy boilerplate, 163</a></p>
<p class="calibre1"><a href="">interfering with each other, 330</a></p>
<p class="calibre1"><a href="">testing thread-based code, 342</a></p>
<p class="calibre1">making as independent as</p>
<p class="calibre1"><a href="">train wrecks, 98–99</a></p>
<p class="calibre1"><a href="">possible, 182</a></p>
<p class="calibre1"><a href="">transformations, as return values, 41</a></p>
<p class="calibre1"><a href="">stepping on each other, 180, 326</a></p>
<p class="calibre1"><a href="">transitive navigation, avoiding, 306–307</a></p>
<p class="calibre1">taking resources from other</p>
<p class="calibre1"><a href="">triadic argument, 40</a></p>
<p class="calibre1"><a href="">threads, 338</a></p>
<p class="calibre1"><a href="">triads, 42</a></p>
<p class="calibre1"><a href="">thread management strategy, 320</a></p>
<p class="calibre1">try <a href="">blocks, 105</a></p>
<p class="calibre1"><a href="">thread pools, 326</a></p>
<p class="calibre1">try/catch<a href=""> blocks, 46–47, 65–66</a></p>
<p class="calibre1"><a href="">thread-based code, testing, 342</a></p>
<p class="calibre1">try-catch-finally<a href=""> statement, 105–106</a></p>
<p class="calibre1">threaded code</p>
<p class="calibre1"><a href="">tunable threaded-based code, 187–188</a></p>
<p class="calibre1"><a href="">making pluggable, 187</a></p>
<p class="calibre1"><a href="">type encoding, 24</a></p>
<p class="calibre1"><a href="">making tunable, 187–188</a></p>
<p class="calibre1"><a href="">symptoms of bugs in, 187</a></p>
<p class="calibre1"><b class="calibre3">U</b></p>
<p class="calibre1"><a href="">testing, 186–190</a></p>
<p class="calibre1"><a href="">writing in Java 5, 182–183</a></p>
<p class="calibre1"><a href="">ubiquitous language, 311–312</a></p>
<p class="calibre1">threading</p>
<p class="calibre1"><a href="">unambiguous names, 312</a></p>
<p class="calibre1">adding to a client/server application,</p>
<p class="calibre1"><a href="">unchecked exceptions, 106–107</a></p>
<p class="calibre1"><a href="">319, 346–347</a></p>
<p class="calibre1">unencapsulated conditional, encapsulating,</p>
<p class="calibre1"><a href="">problems in complex systems, 342</a></p>
<p class="calibre1"><a href="">257</a></p>
<p class="calibre1"><a href="">thread-safe collections, 182–183, 329</a></p>
<p class="calibre1"><a href="">unit testing, isolated as difficult, 160</a></p>
<p class="calibre1">throughput</p>
<p class="calibre1"><a href="">unit tests, 124, 175, 268</a></p>
<p class="calibre1"><a href="">causing starvation, 184</a></p>
<p class="calibre1"><a href="">unprofessional programming, 5–6</a></p>
<p class="calibre1"><a href="">improving, 319</a></p>
<p class="calibre1">uppercase C<a href="">, in variable names, 20</a></p>
<p class="calibre1"><a href="">increasing, 333–335</a></p>
<p class="calibre1"><a href="">usability, of newspapers, 78</a></p>
<p class="calibre1"><a href="">validating, 318</a></p>
<p class="calibre1"><a href="">use, of a system, 154</a></p>
<p class="calibre1">throws<a href=""> clause, 106</a></p>
<p class="calibre1"><a href="">users, handling concurrently, 179</a></p>
<p class="calibre1"><a href="">tiger team, 5</a></p>
<p class="calibre1"><a href="">tight coupling, 172</a></p>
<p class="calibre1"><a href="">time, taking to go fast, 6</a></p>
<p class="calibre1"><b class="calibre3">V</b></p>
<p class="calibre1"><a href="">Time and Money project, 76</a></p>
<p class="calibre1"><a href="">validation, of throughput, 318</a></p>
<p class="calibre1"><a href="">file sizes, 77</a></p>
<p class="calibre1"><a href="">variable names, single-letter, 25</a></p>
<p class="calibre1"><a href="">timely tests, 133</a></p>
<p class="calibre1"><a id="p462"></a><b class="calibre3">Index</b></p>
<p class="calibre1">431</p>
<p class="calibre1">variables</p>
<p class="calibre1"><b class="calibre3">W</b></p>
<p class="calibre1"><a href="">1 based versus zero based, 261</a></p>
<p class="calibre1"><a href="">declaring, 80, 81, 292</a></p>
<p class="calibre1"><a href="">wading, through bad code, 3</a></p>
<p class="calibre1"><a href="">explaining temporary, 279–281</a></p>
<p class="calibre1">Web containers, decoupling provided</p>
<p class="calibre1"><a href="">explanatory, 296–297</a></p>
<p class="calibre1"><a href="">by, 178</a></p>
<p class="calibre1"><a href="">keeping private, 93</a></p>
<p class="calibre1"><a href="">what, decoupling from when, 178</a></p>
<p class="calibre1"><a href="">local, 292, 324</a></p>
<p class="calibre1"><a href="">white space, use of horizontal, 86</a></p>
<p class="calibre1"><a href="">moving to a different class, 273</a></p>
<p class="calibre1"><a href="">wildcards, 307</a></p>
<p class="calibre1"><a href="">in place of comments, 67</a></p>
<p class="calibre1"><i class="calibre4">Working Effectively with Legacy </i></p>
<p class="calibre1">promoting to instance variables of</p>
<p class="calibre1"><i class="calibre4">Code</i><a href="">, 10</a></p>
<p class="calibre1"><a href="">classes, 141</a></p>
<p class="calibre1"><a href="">“working” programs, 201</a></p>
<p class="calibre1"><a href="">with unclear context, 28</a></p>
<p class="calibre1"><a href="">workmanship, 176</a></p>
<p class="calibre1"><a href="">venting, in comments, 65</a></p>
<p class="calibre1"><a href="">wrappers, 108</a></p>
<p class="calibre1"><a href="">verbs, keywords and, 43</a></p>
<p class="calibre1"><a href="">wrapping, 108</a></p>
<p class="calibre1">Version<a href=""> class, 139</a></p>
<p class="calibre1"><a href="">writers, starvation of, 184</a></p>
<p class="calibre1"><a href="">versions, not deserializing across, 272</a></p>
<p class="calibre1"><a href="">“Writing Shy Code”, 306</a></p>
<p class="calibre1"><a href="">vertical density, in code, 79–80</a></p>
<p class="calibre1"><a href="">vertical distance, in code, 80–84</a></p>
<p class="calibre1"><b class="calibre3">X</b></p>
<p class="calibre1"><a href="">vertical formatting, 76–85</a></p>
<p class="calibre1">vertical openness, between concepts,</p>
<p class="calibre1">XML</p>
<p class="calibre1"><a href="">78–79</a></p>
<p class="calibre1"><a href="">deployment descriptors, 160</a></p>
<p class="calibre1"><a href="">vertical ordering, in code, 84–85</a></p>
<p class="calibre1">“policy” specified configuration</p>
<p class="calibre1"><a href="">vertical separation, 292</a></p>
<p class="calibre1"><a href="">files, 164</a></p>
<p class="calibre1"><a id="outline"></a></p>

</body>
</html>
