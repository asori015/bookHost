<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>index</title>
    <meta name="generator" content="pdftohtml 0.36"/>
    <meta name="date" content="2009-10-16T23:21:09+00:00"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="calibre">
<h2 class="calibre5" id="calibre_pb_90">Chapter 5: Formatting</h2>
<p class="calibre1"><b class="calibre3">Listing 5-6 (continued)</b></p>
<p class="calibre1"><b class="calibre3">CodeAnalyzer.java</b></p>
<p class="calibre1">public int getWidestLineNumber() {</p>
<p class="calibre1">return widestLineNumber;</p>
<p class="calibre1">}</p>
<p class="calibre1">public LineWidthHistogram getLineWidthHistogram() {</p>
<p class="calibre1">return lineWidthHistogram;</p>
<p class="calibre1">}</p>
<p class="calibre1">public double getMeanLineWidth() {</p>
<p class="calibre1">return (double)totalChars/lineCount;</p>
<p class="calibre1">}</p>
<p class="calibre1">public int getMedianLineWidth() {</p>
<p class="calibre1">Integer[] sortedWidths = getSortedWidths();</p>
<p class="calibre1">int cumulativeLineCount = 0;</p>
<p class="calibre1">for (int width : sortedWidths) {</p>
<p class="calibre1">cumulativeLineCount += lineCountForWidth(width);</p>
<p class="calibre1">if (cumulativeLineCount &gt; lineCount/2)</p>
<p class="calibre1">return width;</p>
<p class="calibre1">}</p>
<p class="calibre1">throw new Error("Cannot get here");</p>
<p class="calibre1">}</p>
<p class="calibre1">private int lineCountForWidth(int width) {</p>
<p class="calibre1">return lineWidthHistogram.getLinesforWidth(width).size();</p>
<p class="calibre1">}</p>
<p class="calibre1">private Integer[] getSortedWidths() {</p>
<p class="calibre1">Set&lt;Integer&gt; widths = lineWidthHistogram.getWidths();</p>
<p class="calibre1">Integer[] sortedWidths = (widths.toArray(new Integer[0]));</p>
<p class="calibre1">Arrays.sort(sortedWidths);</p>
<p class="calibre1">return sortedWidths;</p>
<p class="calibre1">}</p>
<p class="calibre1">}</p>
<p class="calibre1"><a id="p124"></a><img src="index-124_1.png" alt="Image 30" class="calibre2"/></p>
<p class="calibre1"><a href="index_split_000.html#p11"><b class="calibre3">6</b></a></p>
<p class="calibre1"><a href="index_split_000.html#p11"><b class="calibre3">Objects and Data Structures</b></a></p>
<p class="calibre1">There is a reason that we keep our variables private. We donâ€™t want anyone else to depend on them. We want to keep the freedom to change their type or implementation on a whim or an impulse. Why, then, do so many programmers automatically add getters and setters to their objects, exposing their private variables as if they were public?</p>
<p class="calibre1"><a href="index_split_000.html#p11"><b class="calibre3">Data Abstraction</b></a></p>
<p class="calibre1">Consider the difference between Listing 6-1 and Listing 6-2. Both represent the data of a point on the Cartesian plane. And yet one exposes its implementation and the other completely hides it.</p>
<p class="calibre1">93</p>
<p class="calibre1"><a id="p125"></a>94</p>
<div class="calibre6" id="calibre_pb_91"></div>
</body>
</html>
