<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>index</title>
    <meta name="generator" content="pdftohtml 0.36"/>
    <meta name="date" content="2009-10-16T23:21:09+00:00"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="calibre">
<h2 class="calibre5" id="calibre_pb_108">Chapter 7: Error Handling</h2>
<p class="calibre1">public double xProjection(Point p1, Point p2) {</p>
<p class="calibre1">if (p1 == null || p2 == null) {</p>
<p class="calibre1">throw InvalidArgumentException(</p>
<p class="calibre1">"Invalid argument for MetricsCalculator.xProjection");</p>
<p class="calibre1">}</p>
<p class="calibre1">return (p2.x – p1.x) * 1.5;</p>
<p class="calibre1">}</p>
<p class="calibre1">}</p>
<p class="calibre1">Is this better? It might be a little better than a null pointer exception, but remember, we have to define a handler for InvalidArgumentException. What should the handler do? Is there any good course of action?</p>
<p class="calibre1">There is another alternative. We could use a set of assertions: public class MetricsCalculator</p>
<p class="calibre1">{</p>
<p class="calibre1">public double xProjection(Point p1, Point p2) {</p>
<p class="calibre1">assert p1 != null : "p1 should not be null";</p>
<p class="calibre1">assert p2 != null : "p2 should not be null";</p>
<p class="calibre1">return (p2.x – p1.x) * 1.5;</p>
<p class="calibre1">}</p>
<p class="calibre1">}</p>
<p class="calibre1">It’s good documentation, but it doesn’t solve the problem. If someone passes null, we’ll still have a runtime error.</p>
<p class="calibre1">In most programming languages there is no good way to deal with a null that is passed by a caller accidentally. Because this is the case, the rational approach is to forbid passing null by default. When you do, you can code with the knowledge that a null in an argument list is an indication of a problem, and end up with far fewer careless mistakes.</p>
<p class="calibre1"><a href="index_split_000.html#p12"><b class="calibre3">Conclusion</b></a></p>
<p class="calibre1">Clean code is readable, but it must also be robust. These are not conflicting goals. We can write robust clean code if we see error handling as a separate concern, something that is viewable independently of our main logic. To the degree that we are able to do that, we can reason about it independently, and we can make great strides in the maintainability of our code.</p>
<p class="calibre1"><a href="index_split_000.html#p12"><b class="calibre3">Bibliography</b></a></p>
<p class="calibre1"><b class="calibre3">[Martin]:  </b> <i class="calibre4">Agile Software Development: Principles, Patterns, and Practices, </i> Robert C.</p>
<p class="calibre1">Martin, Prentice Hall, 2002.</p>
<p class="calibre1"><a id="p144"></a><img src="index-144_1.png" alt="Image 34" class="calibre2"/></p>
<p class="calibre1"><a href="index_split_000.html#p12"><b class="calibre3">8</b></a></p>
<p class="calibre1"><a href="index_split_000.html#p12"><b class="calibre3">Boundaries</b></a></p>
<p class="calibre1">by James Grenning</p>
<p class="calibre1">We seldom control all the software in our systems. Sometimes we buy third-party packages or use open source. Other times we depend on teams in our own company to produce components or subsystems for us. Somehow we must cleanly integrate this foreign code 113</p>
<p class="calibre1"><a id="p145"></a>114</p>
<div class="calibre6" id="calibre_pb_109"></div>
</body>
</html>
