<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>index</title>
    <meta name="generator" content="pdftohtml 0.36"/>
    <meta name="date" content="2009-10-16T23:21:09+00:00"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="calibre">
<h2 class="calibre5" id="calibre_pb_64">Chapter 4: Comments</h2>
<p class="calibre1"><b class="calibre3">Listing 4-5 (continued)</b></p>
<p class="calibre1"><b class="calibre3">startSending (refactored)</b></p>
<p class="calibre1">catch(SocketException e)</p>
<p class="calibre1">{</p>
<p class="calibre1">// normal. someone stopped the request.</p>
<p class="calibre1">}</p>
<p class="calibre1">catch(Exception e)</p>
<p class="calibre1">{</p>
<p class="calibre1">addExceptionAndCloseResponse(e);</p>
<p class="calibre1">}</p>
<p class="calibre1">}</p>
<p class="calibre1">private void addExceptionAndCloseResponse(Exception e)</p>
<p class="calibre1">{</p>
<p class="calibre1">try</p>
<p class="calibre1">{</p>
<p class="calibre1">response.add(ErrorResponder.makeExceptionString(e));</p>
<p class="calibre1">response.closeAll();</p>
<p class="calibre1">}</p>
<p class="calibre1">catch(Exception e1)</p>
<p class="calibre1">{</p>
<p class="calibre1">}</p>
<p class="calibre1">}</p>
<p class="calibre1">Replace the temptation to create noise with the determination to clean your code. You’ll find it makes you a better and happier programmer.</p>
<p class="calibre1"><a href="index_split_000.html#p10"><b class="calibre3">Scary Noise</b></a></p>
<p class="calibre1">Javadocs can also be noisy. What purpose do the following Javadocs (from a well-known open-source library) serve? Answer: nothing. They are just redundant noisy comments written out of some misplaced desire to provide documentation.</p>
<p class="calibre1">/** The name. */</p>
<p class="calibre1">private String name;</p>
<p class="calibre1">/** The version. */</p>
<p class="calibre1">private String version;</p>
<p class="calibre1">/** The licenceName. */</p>
<p class="calibre1">private String licenceName;</p>
<p class="calibre1">/** The version. */</p>
<p class="calibre1">private String info;</p>
<p class="calibre1">Read these comments again more carefully. Do you see the cut-paste error? If authors aren’t paying attention when comments are written (or pasted), why should readers be expected to profit from them?</p>
<p class="calibre1"><a id="p98"></a><b class="calibre3">Bad Comments</b></p>
<p class="calibre1">67</p>
<p class="calibre1"><a href="index_split_000.html#p10"><b class="calibre3">Don’t Use a Comment When You Can Use a Function or a Variable</b></a></p>
<p class="calibre1">Consider the following stretch of code:</p>
<p class="calibre1">// does the module from the global list &lt;mod&gt; depend on the</p>
<p class="calibre1">// subsystem we are part of?</p>
<p class="calibre1">if (smodule.getDependSubsystems().contains(subSysMod.getSubSystem())) This could be rephrased without the comment as</p>
<p class="calibre1">ArrayList moduleDependees = smodule.getDependSubsystems();</p>
<p class="calibre1">String ourSubSystem = subSysMod.getSubSystem();</p>
<p class="calibre1">if (moduleDependees.contains(ourSubSystem))</p>
<p class="calibre1">The author of the original code may have written the comment first (unlikely) and then written the code to fulfill the comment. However, the author should then have refactored the code, as I did, so that the comment could be removed.</p>
<p class="calibre1"><a href="index_split_000.html#p10"><b class="calibre3">Position Markers</b></a></p>
<p class="calibre1">Sometimes programmers like to mark a particular position in a source file. For example, I recently found this in a program I was looking through:</p>
<p class="calibre1">// Actions //////////////////////////////////</p>
<p class="calibre1">There are rare times when it makes sense to gather certain functions together beneath a banner like this. But in general they are clutter that should be eliminated—especially the noisy train of slashes at the end.</p>
<p class="calibre1">Think of it this way. A banner is startling and obvious if you don’t see banners very often. So use them very sparingly, and only when the benefit is significant. If you overuse banners, they’ll fall into the background noise and be ignored.</p>
<p class="calibre1"><a href="index_split_000.html#p10"><b class="calibre3">Closing Brace Comments</b></a></p>
<p class="calibre1">Sometimes programmers will put special comments on closing braces, as in Listing 4-6.</p>
<p class="calibre1">Although this might make sense for long functions with deeply nested structures, it serves only to clutter the kind of small and encapsulated functions that we prefer. So if you find yourself wanting to mark your closing braces, try to shorten your functions instead.</p>
<p class="calibre1"><b class="calibre3">Listing 4-6 </b></p>
<p class="calibre1"><b class="calibre3">wc.java</b></p>
<p class="calibre1">public class wc {</p>
<p class="calibre1">public static void main(String[] args) {</p>
<p class="calibre1">BufferedReader in = new BufferedReader(new InputStreamReader(System.in)); String line;</p>
<p class="calibre1">int lineCount = 0;</p>
<p class="calibre1">int charCount = 0;</p>
<p class="calibre1">int wordCount = 0;</p>
<p class="calibre1">try {</p>
<p class="calibre1"><a id="p99"></a>68</p>
<div class="calibre6" id="calibre_pb_65"></div>
</body>
</html>
